{"ast":null,"code":"var _jsxFileName = \"C:\\\\audi_\\\\ESPL_projects\\\\facebook\\\\src\\\\components\\\\watermarks\\\\fixedImg.js\";\nimport React, { Component } from 'react';\nimport \"./index.css\";\n\nconst interact = require('interactjs');\n\nclass WatermarkPosition extends Component {\n  constructor(props) {\n    super(props);\n\n    this.textOpacityHandler = e => {\n      this.setState({\n        opacity: e.target.value\n      });\n    };\n\n    this.logoOpacityHandler = e => {\n      this.setState({\n        logoOpacity: e.target.value\n      });\n    };\n\n    this.FontHandler = e => {\n      console.log(e.target.value);\n      this.setState({\n        fontSize: e.target.value\n      });\n      console.log(this.state);\n    };\n\n    this.handleChange = event => {\n      console.log(event.target.files[0]);\n      this.setState({\n        file: URL.createObjectURL(event.target.files[0]),\n        originalFile: event.target.files[0]\n      });\n    };\n\n    this.handleLogoFile = event => {\n      console.log(event.target.files[0]);\n      this.setState({\n        logoFile: URL.createObjectURL(event.target.files[0]),\n        logoOriginalFile: event.target.files[0]\n      });\n    };\n\n    this.handleChangeText = e => {\n      this.setState({\n        watermarkText: e.target.value\n      });\n    };\n\n    this.increaseLogo = () => {\n      this.setState({\n        logoSize: this.state.logoSize + 5\n      });\n    };\n\n    this.reduceLogo = () => {\n      this.setState({\n        logoSize: this.state.logoSize - 5\n      });\n    };\n\n    this.domChangeHandler = (changeParameter, value) => {\n      // update the element \n      let modifingElement = this.state.currentEementId;\n      console.log(\"changing element \", modifingElement);\n      let ele = document.getElementById(modifingElement);\n      console.log(document.getElementById(modifingElement).childNodes[0].innerText);\n      let lastFont = parseInt(ele.style.fontSize, 10);\n\n      if (changeParameter === \"fontAdd\") {\n        ele.style.fontSize = `${lastFont ? lastFont + 4 : 20}px`;\n      }\n\n      if (changeParameter === \"fontRemove\") {\n        ele.style.fontSize = `${lastFont ? lastFont - 4 : 20}px`;\n      }\n\n      if (changeParameter === \"color\") {\n        ele.style.color = value ? value : \"black\";\n      }\n\n      if (changeParameter === \"opacity\") {\n        ele.style.opacity = value ? `0.${value}` : \"0.9\";\n      }\n\n      if (changeParameter === \"textRange\") {\n        console.log(value); // ele.style.fontSize =  `${lastFont  ? lastFont - 4 : 20}px`; \n      }\n\n      if (changeParameter === \"watermarkText\") {\n        if (value) {\n          document.getElementById(modifingElement).childNodes[0].innerText = value;\n        } else {\n          document.getElementById(modifingElement).childNodes[0].innerText = \"Click To Edit\";\n        }\n      }\n    };\n\n    this.finalTextXY = (aspRatiobyW, aspRatiobyH, txtObj, basicData) => {\n      let waterMarkText = document.getElementById(txtObj.watermarkID);\n      let xyMovesText = this.objectMoment(waterMarkText.style.transform);\n      let finalTextX = aspRatiobyW * xyMovesText.xMove;\n      let finalTextY = aspRatiobyH * xyMovesText.yMove + 0.018 * basicData.perviewCoverH; // 0.018 y move per 1px \n\n      let textFper = txtObj.fontSize / basicData.previewCoverW * 100;\n      let finalTextF = textFper * basicData.originalCoverW / 100;\n      let textFontName = \"cour\"; //\n\n      return {\n        finalTextX,\n        finalTextY,\n        finalTextF,\n        textFontName,\n        opacity: txtObj.opacity,\n        color: txtObj.color,\n        watermarkText: txtObj.watermarkText\n      };\n    };\n\n    this.objectMoment = xyMove => {\n      if (xyMove) {\n        let movement = xyMove.split(\",\");\n        let positiveX = !movement[0].includes(\"-\");\n        let positiveY = !movement[1].includes(\"-\");\n        let xMove = parseInt(movement[0].replace(/\\D/g, \"\"), 10);\n        xMove = positiveX ? xMove * 1 : xMove * -1;\n        let yMove = parseInt(movement[1].replace(/\\D/g, \"\"), 10);\n        yMove = positiveY ? yMove * 1 : yMove * -1;\n        return {\n          xMove,\n          yMove\n        };\n      }\n    };\n\n    this.checkImg = () => {\n      console.log(\"final State\", this.state); // original img height and width\n      // let originalCoverW = 1000; \n      // let originalCoverH = 750;\n\n      let originalCoverW = this.state.actualImgWidth;\n      let originalCoverH = this.state.actualImgHeight; // bg img wh  --> preivew img height widht \n\n      let cover = document.querySelector(\"#cover\");\n      let previewCoverW = cover.clientWidth;\n      let perviewCoverH = cover.clientHeight; // logo w h  ==> logo height and width on preview img \n\n      let wmLogoImg = document.querySelector(\"#watermarkLogo\");\n      let wmLogoImgcurrWidth = wmLogoImg.clientWidth;\n      let wmLogoImgcurrHeight = wmLogoImg.clientHeight - 4;\n      console.log(\"details- \");\n      console.log(\"original w-h- \", originalCoverW, originalCoverH);\n      console.log(\"preview w-h- \", previewCoverW, perviewCoverH);\n      console.log(\"logo preivew w-h- \", wmLogoImgcurrWidth, wmLogoImgcurrHeight);\n      let basicData = {\n        originalCoverW,\n        originalCoverH,\n        previewCoverW,\n        perviewCoverH\n      }; // for watermark text \n\n      let watermarkLogo = document.getElementById('watermarkLogo');\n      let xyMovesLogo = this.objectMoment(watermarkLogo.style.transform); // distance  x y \n\n      let aspRatiobyW = originalCoverW / previewCoverW; // by width \n\n      let aspRatiobyH = originalCoverH / perviewCoverH; // by h\n      // xy on original img \n\n      let finalX = aspRatiobyW * xyMovesLogo.xMove;\n      let finalY = aspRatiobyH * xyMovesLogo.yMove;\n      let fW = wmLogoImgcurrWidth * aspRatiobyW;\n      let fH = wmLogoImgcurrHeight * aspRatiobyH;\n      let txtWatermarkObj = this.state.textWatermarkList[0];\n      let txtWatermarkObj1 = this.state.textWatermarkList[1];\n      let finalText = this.finalTextXY(aspRatiobyW, aspRatiobyH, txtWatermarkObj, basicData);\n      let finalText1 = this.finalTextXY(aspRatiobyW, aspRatiobyH, txtWatermarkObj1, basicData);\n      console.log(finalText, finalText1); // let finalTextX = aspRatiobyW * xyMovesText.xMove;\n      // let finalTextY = aspRatiobyH * xyMovesText.yMove + (0.018 * perviewCoverH); // 0.018 y move per 1px \n      // let textFper = (this.state.fontSize / previewCoverW) * 100;\n      // let finalTextF = (textFper * originalCoverW) / 100;\n      // finalTextX,finalTextY,finalTextF\n      // let url = `ffmpeg -i gridOrg.jpg -i box.jpg -filter_complex \"[1]scale=${fW}:${fH}[a];[a]lut=a=val*0.9[b];[0][b] overlay=${finalX}:${finalY}\" -y watermarkLogo.jpg`\n      //let txtUrl = `ffmpeg -i gridOrg1.jpg -filter_complex \"[0]drawtext=fontfile=cour.ttf:text='${this.state.watermarkText}':fontcolor=${this.state.fontColor}:fontsize=${finalTextF}:x=${finalTextX}:y=${finalTextY}\" -y restextWatermark.jpg`\n      // console.log(txtUrl);\n      // let logoRotation = `ffmpeg -i gridOrg.jpg -i logoA.png -filter_complex \"[1]scale=${fW}:${fH}[a];[a]rotate='${this.state.logoRoatation}*PI/180:ow=hypot(iw,ih):oh=ow:c=none'[a];[0][a]overlay=${finalX}:${finalY}\" -y testRotation.jpg`\n\n      let urlTextLogo = `ffmpeg -i gridOrg.jpg -i ${this.state.logoOriginalFile.name} -filter_complex \"[1]scale=${fW}:${fH}[t],[t]lut=a=val*0.${this.state.logoOpacity}[t],[t]rotate=${this.state.logoRoatation}*PI/180[t],[0][t]overlay=${finalX}:${finalY}[i1];[i1]drawtext=fontfile='${finalText.textFontName}.ttf': text='${finalText.watermarkText}':fontcolor=${finalText.color}@0.${finalText.opacity}:fontsize=${finalText.finalTextF}:x=${finalText.finalTextX}:y=${finalText.finalTextY}\" -y res_logoText.jpg`;\n      console.log(urlTextLogo);\n      let multiLoogSinglelogUrl = `ffmpeg -i gridOrg.jpg  -i ${this.state.logoOriginalFile.name} -i ${this.state.logoOriginalFile.name} -filter_complex \"[1]scale=${fW}:${fH}[t],[t]lut=a=val*0.${this.state.logoOpacity}[t],\n        [t]rotate=${this.state.logoRoatation}*PI/180[t],[0][t]overlay=${finalX}:${finalY}[i1];\n         [2]scale=${fW}:${fH}[t],[t]lut=a=val*0.${this.state.logoOpacity}[t],[t]rotate=${this.state.logoRoatation}*PI/180[t],[i1][t]overlay=${finalX + 200}:${finalY}[i2];\n         [i2]drawtext=fontfile=cour.ttf: text='India':fontcolor=red@0.8:fontsize=20:x=300:y=20\" -preset ultrafast -y multiLogo.jpg\n        `; // (finalText , finalText1);\n\n      let multiTextsingeLogo = `ffmpeg -i gridSm.jpg -i ${this.state.logoOriginalFile.name}\n         -filter_complex \"[1]scale=${fW}:${fH}[t],[t]lut=a=val*0.${this.state.logoOpacity}[t],[t]rotate=${this.state.logoRoatation}*PI/180[t],[0][t]overlay=${finalX}:${finalY}[i1];\n        [i1]drawtext=fontfile=${finalText.textFontName}.ttf: text='${finalText.watermarkText}':fontcolor=${finalText.color}@0.${finalText.opacity}:fontsize=${finalText.finalTextF}:x=${finalText.finalTextX}:y=${finalText.finalTextY}[i2];\n        [i2]drawtext=fontfile=${finalText1.textFontName}.ttf: text='${finalText1.watermarkText}':fontcolor=${finalText1.color}@0.${finalText1.opacity}:fontsize=${finalText1.finalTextF}:x=${finalText1.finalTextX}:y=${finalText1.finalTextY}\" -preset ultrafast -y res_multy_text.jpg`;\n      console.log(multiTextsingeLogo);\n    };\n\n    this.addTextWatermark = () => {\n      let vm = this;\n      let userTextWatermarkList = this.state.textWatermarkList; //  let textOne = userTextWatermarkList[0];\n\n      for (let i = 0; i < userTextWatermarkList.length; i++) {\n        let textOne = userTextWatermarkList[i];\n        let textOneStyle = `font-size: ${textOne.fontSize}px; opacity:0.${textOne.opacity}; font-family: ${textOne.fontFamily}; position: absolute; color:${textOne.color}`;\n        let newTextWatermark = document.createElement('div'); // is a node\n\n        newTextWatermark.setAttribute(\"class\", \"draggable-text\");\n        newTextWatermark.setAttribute(\"style\", textOneStyle);\n        newTextWatermark.setAttribute(\"id\", `${textOne.watermarkID}`);\n        console.log(newTextWatermark);\n        let subTextdiv = document.createElement('div');\n        subTextdiv.setAttribute(\"style\", `transform : rotate(${textOne.textRotatation}deg)`);\n        subTextdiv.innerHTML = `${textOne.watermarkText}`;\n        newTextWatermark.appendChild(subTextdiv);\n\n        newTextWatermark.onclick = function () {\n          vm.setState({\n            currentEementId: `${textOne.watermarkID}`\n          });\n          console.log(\"ele changed \", newTextWatermark, vm.state);\n        }; // add to dom \n\n\n        document.getElementById(\"cover\").appendChild(newTextWatermark);\n      }\n    };\n\n    this.state = {\n      currentEementId: null,\n      textWatermarkList: [{\n        fontSize: 20,\n        watermarkID: \"watermarkText_0\",\n        opacity: 9,\n        fontFamily: \"Courier New\",\n        position: \"absolute\",\n        // keep same for all\n        color: \"red\",\n        watermarkText: \"@ style 2020\",\n        textRotatation: 0 // transformOrigin: \"0 0\"\n\n      }, {\n        fontSize: 20,\n        watermarkID: \"watermarkText_1\",\n        opacity: 9,\n        fontFamily: \"Courier New\",\n        position: \"absolute\",\n        color: \"green\",\n        watermarkText: \"@ style watermark2\",\n        textRotatation: 0 // transformOrigin: \"0 0\"\n\n      }],\n      fontSize: 20,\n      fontColor: \"red\",\n      rotate: 20,\n      textRotatation: 45,\n      logoRoatation: 180,\n      opacity: 9,\n      logoOpacity: 9,\n      logoSize: 80,\n      watermarkText: \"© free style\",\n      BackgroundImgUrl: \"\",\n      file: \"\",\n      logoFile: \"\",\n      logoOriginalFile: null,\n      originalFile: null,\n      // image parameters\n      actualImgWidth: 1000,\n      actualImgHeight: 750\n    };\n    this.textRotationAngle = 10;\n    this.textWatermarkCount = 0;\n  }\n\n  componentDidMount() {\n    let vm = this; // drag the element on page \n\n    const position = {\n      x: 0,\n      y: 0\n    };\n    interact('.draggable-logo').draggable({\n      listeners: {\n        start(event) {// console.log(event.type, event.target)\n        },\n\n        move(event) {\n          position.x += event.dx;\n          position.y += event.dy;\n          event.target.style.transform = `translate(${position.x}px, ${position.y}px)`;\n          console.log(event.type, event.target);\n        }\n\n      }\n    }); // resize the element \n\n    interact(\".resizable-logo\").resizable({\n      edges: {\n        left: false,\n        right: false,\n        bottom: false,\n        top: false\n      },\n      // modifiers: [\n      //   interact.modifiers.restrictEdges({\n      //     outer: \"parent\",\n      //     endOnly: true\n      //   })\n      // ],\n      inertia: true,\n      modifiers: [// keep the edges inside the parent\n      // interact.modifiers.restrictEdges({\n      //   outer: 'parent'\n      // }),\n      // minimum size\n      interact.modifiers.restrictSize({\n        min: {\n          width: 20,\n          height: 20\n        }\n      })]\n    }).on(\"resizemove\", function (event) {\n      var target = event.target;\n      console.log(target);\n      target.style.width = event.rect.width + \"px\";\n      target.style.height = event.rect.height + \"px\";\n    }); // text drag(move)\n\n    interact('.draggable-text').draggable({\n      listeners: {\n        start(event) {},\n\n        move(event) {\n          position.x += event.dx;\n          position.y += event.dy;\n          console.log(event.target.style.transform);\n          event.target.style.transform = `translate(${position.x}px, ${position.y}px)`;\n        }\n\n      }\n    }); // resize the element \n    // interact(\".resizable-text\")\n    // .resizable({\n    //         edges: { left: false, right: true, bottom: true, top: false },\n    //         // modifiers: [\n    //         //   interact.modifiers.restrictEdges({\n    //         //     outer: \"parent\",\n    //         //     endOnly: true\n    //         //   })\n    //         // ],\n    //         inertia: true\n    //     })\n    //     .on(\"resizemove\", function(event) {\n    //         var target = event.target\n    //         console.log(event);\n    //         target.style.width = event.rect.width + \"px\"\n    //         target.style.height = event.rect.height + \"px\"\n    //     })\n  } // opacityRange \n\n\n  render() {\n    let logoStyle = {\n      width: this.state.logoSize,\n      opacity: `0.${this.state.logoOpacity}`,\n      transform: `rotate(${this.state.logoRoatation}deg)`\n    };\n    let editorConsole = {\n      position: \"relative\",\n      backgroundImage: `url(${this.state.file})`,\n      width: \"500px\",\n      height: \"375px\"\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462\n      },\n      __self: this\n    }, \"text Opacity : \", React.createElement(\"input\", {\n      type: \"range\",\n      name: \"points\",\n      min: \"0\",\n      max: \"9\",\n      onChange: e => this.domChangeHandler(\"opacity\", e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464\n      },\n      __self: this\n    }), \"Logo Opacity : \", React.createElement(\"input\", {\n      type: \"range\",\n      name: \"logoOpacity\",\n      min: \"0\",\n      max: \"9\",\n      onChange: e => this.logoOpacityHandler(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468\n      },\n      __self: this\n    }), \"Logo Rotation : \", React.createElement(\"input\", {\n      type: \"range\",\n      name: \"logoRotation\",\n      min: \"0\",\n      max: \"360\",\n      onChange: e => this.setState({\n        logoRoatation: parseInt(e.target.value, 10)\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471\n      },\n      __self: this\n    }), \"Text Rotation : \", React.createElement(\"input\", {\n      type: \"range\",\n      name: \"logoRotation\",\n      min: \"0\",\n      max: \"360\",\n      onChange: e => this.setState({\n        textRotatation: parseInt(e.target.value, 10)\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475\n      },\n      __self: this\n    }), \"cover: \", React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476\n      },\n      __self: this\n    }), \"logo : \", React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.handleLogoFile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477\n      },\n      __self: this\n    }), \"text : \", React.createElement(\"input\", {\n      type: \"text\",\n      onChange: e => this.domChangeHandler(\"watermarkText\", e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478\n      },\n      __self: this\n    }), \"text Range : \", React.createElement(\"input\", {\n      type: \"range\",\n      name: \"points\",\n      min: \"0\",\n      max: \"100\",\n      onChange: e => this.domChangeHandler(\"textRange\", e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      id: \"textColors\",\n      onChange: e => this.domChangeHandler(\"color\", e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"red\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }, \"red\"), React.createElement(\"option\", {\n      value: \"yellow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485\n      },\n      __self: this\n    }, \"yellow\"), React.createElement(\"option\", {\n      value: \"pink\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486\n      },\n      __self: this\n    }, \"pink\"), React.createElement(\"option\", {\n      value: \"blue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487\n      },\n      __self: this\n    }, \"blue\"))), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.domChangeHandler(\"fontAdd\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492\n      },\n      __self: this\n    }, \"Font++\"), React.createElement(\"button\", {\n      onClick: () => this.domChangeHandler(\"fontRemove\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493\n      },\n      __self: this\n    }, \"Font --\"), React.createElement(\"button\", {\n      onClick: () => this.increaseLogo(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494\n      },\n      __self: this\n    }, \" logo ++\"), React.createElement(\"button\", {\n      onClick: () => this.reduceLogo(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495\n      },\n      __self: this\n    }, \" logo -- \"), React.createElement(\"button\", {\n      onClick: () => this.checkImg(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497\n      },\n      __self: this\n    }, \" check Img\"), React.createElement(\"button\", {\n      onClick: () => this.addTextWatermark(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498\n      },\n      __self: this\n    }, \" Add Text\")), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"watermark-playground\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"editor-console\",\n      id: \"cover\",\n      style: editorConsole,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"draggable-logo\",\n      id: \"watermarkLogo\",\n      style: {\n        position: \"absolute\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.logoFile,\n      id: \"watermarkLogoImg\",\n      style: logoStyle,\n      className: \"resizable-logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513\n      },\n      __self: this\n    })))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default WatermarkPosition;","map":{"version":3,"sources":["C:/audi_/ESPL_projects/facebook/src/components/watermarks/fixedImg.js"],"names":["React","Component","interact","require","WatermarkPosition","constructor","props","textOpacityHandler","e","setState","opacity","target","value","logoOpacityHandler","logoOpacity","FontHandler","console","log","fontSize","state","handleChange","event","files","file","URL","createObjectURL","originalFile","handleLogoFile","logoFile","logoOriginalFile","handleChangeText","watermarkText","increaseLogo","logoSize","reduceLogo","domChangeHandler","changeParameter","modifingElement","currentEementId","ele","document","getElementById","childNodes","innerText","lastFont","parseInt","style","color","finalTextXY","aspRatiobyW","aspRatiobyH","txtObj","basicData","waterMarkText","watermarkID","xyMovesText","objectMoment","transform","finalTextX","xMove","finalTextY","yMove","perviewCoverH","textFper","previewCoverW","finalTextF","originalCoverW","textFontName","xyMove","movement","split","positiveX","includes","positiveY","replace","checkImg","actualImgWidth","originalCoverH","actualImgHeight","cover","querySelector","clientWidth","clientHeight","wmLogoImg","wmLogoImgcurrWidth","wmLogoImgcurrHeight","watermarkLogo","xyMovesLogo","finalX","finalY","fW","fH","txtWatermarkObj","textWatermarkList","txtWatermarkObj1","finalText","finalText1","urlTextLogo","name","logoRoatation","multiLoogSinglelogUrl","multiTextsingeLogo","addTextWatermark","vm","userTextWatermarkList","i","length","textOne","textOneStyle","fontFamily","newTextWatermark","createElement","setAttribute","subTextdiv","textRotatation","innerHTML","appendChild","onclick","position","fontColor","rotate","BackgroundImgUrl","textRotationAngle","textWatermarkCount","componentDidMount","x","y","draggable","listeners","start","move","dx","dy","type","resizable","edges","left","right","bottom","top","inertia","modifiers","restrictSize","min","width","height","on","rect","render","logoStyle","editorConsole","backgroundImage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport \"./index.css\";\r\nconst interact = require('interactjs')\r\n\r\n\r\n\r\nclass WatermarkPosition extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            currentEementId : null,\r\n            textWatermarkList : [\r\n                {\r\n                    fontSize: 20,\r\n                    watermarkID : \"watermarkText_0\",\r\n                    opacity: 9,\r\n                    fontFamily: \"Courier New\",\r\n                    position: \"absolute\",  // keep same for all\r\n                    color: \"red\",\r\n                    watermarkText : \"@ style 2020\",\r\n                    textRotatation : 0\r\n                    // transformOrigin: \"0 0\"\r\n                },\r\n                {\r\n                    fontSize: 20,\r\n                    watermarkID : \"watermarkText_1\",\r\n                    opacity: 9,\r\n                    fontFamily: \"Courier New\",\r\n                    position: \"absolute\",\r\n                    color: \"green\",\r\n                    watermarkText : \"@ style watermark2\",\r\n                    textRotatation : 0\r\n                    // transformOrigin: \"0 0\"\r\n                }\r\n            ],\r\n            fontSize: 20,\r\n            fontColor: \"red\",\r\n            rotate: 20,\r\n            textRotatation: 45,\r\n            logoRoatation: 180,\r\n            opacity: 9,\r\n            logoOpacity: 9,\r\n            logoSize: 80,\r\n            watermarkText: \"© free style\",\r\n            BackgroundImgUrl: \"\",\r\n            file: \"\",\r\n            logoFile: \"\",\r\n\r\n            logoOriginalFile : null,\r\n            originalFile : null,\r\n\r\n            // image parameters\r\n            actualImgWidth: 1000,\r\n            actualImgHeight: 750\r\n        }\r\n\r\n        this.textRotationAngle = 10;\r\n        this.textWatermarkCount = 0;\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        let vm = this;\r\n\r\n        // drag the element on page \r\n        const position = { x: 0, y: 0 }\r\n        interact('.draggable-logo').draggable({\r\n            listeners: {\r\n                start(event) {\r\n                    // console.log(event.type, event.target)\r\n                },\r\n                move(event) {\r\n                    position.x += event.dx\r\n                    position.y += event.dy\r\n\r\n                    event.target.style.transform =\r\n                        `translate(${position.x}px, ${position.y}px)`\r\n\r\n                    console.log(event.type, event.target)\r\n                },\r\n\r\n            }\r\n        })\r\n\r\n        // resize the element \r\n        interact(\".resizable-logo\")\r\n            .resizable({\r\n                edges: { left: false, right: false, bottom: false, top: false },\r\n                // modifiers: [\r\n                //   interact.modifiers.restrictEdges({\r\n                //     outer: \"parent\",\r\n                //     endOnly: true\r\n                //   })\r\n                // ],\r\n                inertia: true,\r\n                modifiers: [\r\n                    // keep the edges inside the parent\r\n                    // interact.modifiers.restrictEdges({\r\n                    //   outer: 'parent'\r\n                    // }),\r\n\r\n                    // minimum size\r\n                    interact.modifiers.restrictSize({\r\n                        min: { width: 20, height: 20 }\r\n                    })\r\n                ],\r\n            })\r\n            .on(\"resizemove\", function (event) {\r\n                var target = event.target\r\n                console.log(target);\r\n                target.style.width = event.rect.width + \"px\"\r\n                target.style.height = event.rect.height + \"px\"\r\n            })\r\n\r\n\r\n        // text drag(move)\r\n        interact('.draggable-text').draggable({\r\n            listeners: {\r\n                start(event) {\r\n                },\r\n                move(event) {\r\n                    position.x += event.dx\r\n                    position.y += event.dy\r\n                    console.log(event.target.style.transform);\r\n                    event.target.style.transform =\r\n                        `translate(${position.x}px, ${position.y}px)`\r\n                },\r\n\r\n            }\r\n        })\r\n\r\n        // resize the element \r\n        // interact(\".resizable-text\")\r\n        // .resizable({\r\n        //         edges: { left: false, right: true, bottom: true, top: false },\r\n        //         // modifiers: [\r\n        //         //   interact.modifiers.restrictEdges({\r\n        //         //     outer: \"parent\",\r\n        //         //     endOnly: true\r\n        //         //   })\r\n        //         // ],\r\n        //         inertia: true\r\n        //     })\r\n        //     .on(\"resizemove\", function(event) {\r\n        //         var target = event.target\r\n        //         console.log(event);\r\n        //         target.style.width = event.rect.width + \"px\"\r\n        //         target.style.height = event.rect.height + \"px\"\r\n        //     })\r\n\r\n\r\n    }\r\n\r\n    // opacityRange \r\n\r\n    textOpacityHandler = (e) => {\r\n        this.setState({\r\n            opacity: e.target.value\r\n        })\r\n    }\r\n\r\n    logoOpacityHandler = (e) => {\r\n        this.setState({\r\n            logoOpacity: e.target.value\r\n        })\r\n    }\r\n\r\n    FontHandler = (e) => {\r\n        console.log(e.target.value);\r\n        this.setState({\r\n            fontSize: e.target.value\r\n        })\r\n\r\n        console.log(this.state);\r\n    }\r\n\r\n\r\n    handleChange = (event) => {\r\n        console.log(event.target.files[0]);\r\n        this.setState({\r\n            file: URL.createObjectURL(event.target.files[0]),\r\n            originalFile : event.target.files[0]\r\n        })\r\n    }\r\n\r\n\r\n    handleLogoFile = (event) => {\r\n        console.log(event.target.files[0]);\r\n        this.setState({\r\n            logoFile: URL.createObjectURL(event.target.files[0]),\r\n            logoOriginalFile : event.target.files[0]\r\n        })\r\n    }\r\n\r\n\r\n    handleChangeText = (e) => {\r\n        this.setState(\r\n            { watermarkText: e.target.value }\r\n        )\r\n    }\r\n\r\n    increaseLogo = () => {\r\n        this.setState({\r\n            logoSize: this.state.logoSize + 5\r\n        })\r\n    }\r\n\r\n    reduceLogo = () => {\r\n\r\n        this.setState({\r\n            logoSize: this.state.logoSize - 5\r\n        })\r\n    }\r\n\r\n\r\n    domChangeHandler = (changeParameter , value) => {\r\n\r\n        // update the element \r\n\r\n        let modifingElement = this.state.currentEementId;\r\n        console.log(\"changing element \" , modifingElement)\r\n        let ele =  document.getElementById(modifingElement);\r\n        console.log(document.getElementById(modifingElement).childNodes[0].innerText);\r\n   \r\n         let lastFont = parseInt(ele.style.fontSize, 10);\r\n         if( changeParameter === \"fontAdd\"){\r\n            ele.style.fontSize =  `${lastFont  ? lastFont + 4 : 20}px`; \r\n         }\r\n\r\n         if( changeParameter === \"fontRemove\"){\r\n            ele.style.fontSize =  `${lastFont  ? lastFont - 4 : 20}px`; \r\n         }\r\n\r\n         if(changeParameter === \"color\"){\r\n            ele.style.color = value ? value : \"black\"; \r\n         }\r\n         if(changeParameter === \"opacity\"){\r\n            ele.style.opacity = value ? `0.${value}` : \"0.9\"; \r\n         }\r\n\r\n         if(changeParameter === \"textRange\"){\r\n              console.log(value);\r\n\r\n           // ele.style.fontSize =  `${lastFont  ? lastFont - 4 : 20}px`; \r\n         }\r\n\r\n         \r\n         \r\n         if(changeParameter === \"watermarkText\" ){\r\n            if(value){\r\n                document.getElementById(modifingElement).childNodes[0].innerText = value\r\n            }else{\r\n                document.getElementById(modifingElement).childNodes[0].innerText = \"Click To Edit\"\r\n            }\r\n         }\r\n    }\r\n\r\n\r\n\r\n    finalTextXY = ( aspRatiobyW , aspRatiobyH , txtObj , basicData) =>{\r\n\r\n        let waterMarkText = document.getElementById(txtObj.watermarkID);\r\n        let xyMovesText = this.objectMoment(waterMarkText.style.transform);\r\n        let finalTextX = aspRatiobyW * xyMovesText.xMove;\r\n        let finalTextY = aspRatiobyH * xyMovesText.yMove + (0.018 * basicData.perviewCoverH); // 0.018 y move per 1px \r\n        let textFper = (txtObj.fontSize / basicData.previewCoverW) * 100;\r\n        let finalTextF = (textFper * basicData.originalCoverW) / 100;\r\n\r\n        let textFontName = \"cour\" ;  //\r\n        return {\r\n            finalTextX,\r\n            finalTextY,\r\n            finalTextF,\r\n            textFontName,\r\n            opacity : txtObj.opacity,\r\n            color:txtObj.color,\r\n            watermarkText : txtObj.watermarkText\r\n        }\r\n    }\r\n\r\n    objectMoment = (xyMove) => {\r\n        if (xyMove) {\r\n            let movement = xyMove.split(\",\");\r\n            let positiveX = !movement[0].includes(\"-\");\r\n            let positiveY = !movement[1].includes(\"-\");\r\n            let xMove = parseInt(movement[0].replace(/\\D/g, \"\"), 10);\r\n            xMove = positiveX ? xMove * 1 : xMove * -1;\r\n            let yMove = parseInt(movement[1].replace(/\\D/g, \"\"), 10);\r\n            yMove = positiveY ? yMove * 1 : yMove * -1;\r\n\r\n            return {\r\n                xMove,\r\n                yMove\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    checkImg = () => {\r\n\r\n        console.log(\"final State\", this.state);\r\n\r\n        // original img height and width\r\n        // let originalCoverW = 1000; \r\n        // let originalCoverH = 750;\r\n\r\n        let originalCoverW = this.state.actualImgWidth;\r\n        let originalCoverH = this.state.actualImgHeight;\r\n\r\n        // bg img wh  --> preivew img height widht \r\n        let cover = document.querySelector(\"#cover\");\r\n        let previewCoverW = cover.clientWidth;\r\n        let perviewCoverH = cover.clientHeight;\r\n\r\n        // logo w h  ==> logo height and width on preview img \r\n        let wmLogoImg = document.querySelector(\"#watermarkLogo\");\r\n        let wmLogoImgcurrWidth = wmLogoImg.clientWidth;\r\n        let wmLogoImgcurrHeight = wmLogoImg.clientHeight - 4;\r\n\r\n        console.log(\"details- \");\r\n        console.log(\"original w-h- \", originalCoverW, originalCoverH);\r\n        console.log(\"preview w-h- \", previewCoverW, perviewCoverH);\r\n        console.log(\"logo preivew w-h- \", wmLogoImgcurrWidth, wmLogoImgcurrHeight);\r\n\r\n        let basicData = {\r\n            originalCoverW,\r\n            originalCoverH,\r\n            previewCoverW,\r\n            perviewCoverH\r\n        }\r\n\r\n        // for watermark text \r\n\r\n        let watermarkLogo = document.getElementById('watermarkLogo');\r\n        let xyMovesLogo = this.objectMoment(watermarkLogo.style.transform);\r\n \r\n\r\n        // distance  x y \r\n        let aspRatiobyW = originalCoverW / previewCoverW;  // by width \r\n        let aspRatiobyH = originalCoverH / perviewCoverH; // by h\r\n\r\n        // xy on original img \r\n        let finalX = aspRatiobyW * xyMovesLogo.xMove;\r\n        let finalY = aspRatiobyH * xyMovesLogo.yMove;\r\n\r\n        let fW = wmLogoImgcurrWidth * aspRatiobyW;\r\n        let fH = wmLogoImgcurrHeight * aspRatiobyH;\r\n\r\n        let  txtWatermarkObj = this.state.textWatermarkList[0]; \r\n        let  txtWatermarkObj1 = this.state.textWatermarkList[1]; \r\n\r\n\r\n\r\n\r\n        let finalText = this.finalTextXY( aspRatiobyW , aspRatiobyH , txtWatermarkObj , basicData );\r\n        let finalText1 = this.finalTextXY( aspRatiobyW , aspRatiobyH , txtWatermarkObj1 , basicData );\r\n\r\n        console.log(finalText , finalText1);\r\n\r\n        // let finalTextX = aspRatiobyW * xyMovesText.xMove;\r\n        // let finalTextY = aspRatiobyH * xyMovesText.yMove + (0.018 * perviewCoverH); // 0.018 y move per 1px \r\n\r\n\r\n        // let textFper = (this.state.fontSize / previewCoverW) * 100;\r\n        // let finalTextF = (textFper * originalCoverW) / 100;\r\n\r\n        // finalTextX,finalTextY,finalTextF\r\n\r\n\r\n        // let url = `ffmpeg -i gridOrg.jpg -i box.jpg -filter_complex \"[1]scale=${fW}:${fH}[a];[a]lut=a=val*0.9[b];[0][b] overlay=${finalX}:${finalY}\" -y watermarkLogo.jpg`\r\n        //let txtUrl = `ffmpeg -i gridOrg1.jpg -filter_complex \"[0]drawtext=fontfile=cour.ttf:text='${this.state.watermarkText}':fontcolor=${this.state.fontColor}:fontsize=${finalTextF}:x=${finalTextX}:y=${finalTextY}\" -y restextWatermark.jpg`\r\n\r\n        // console.log(txtUrl);\r\n\r\n        // let logoRotation = `ffmpeg -i gridOrg.jpg -i logoA.png -filter_complex \"[1]scale=${fW}:${fH}[a];[a]rotate='${this.state.logoRoatation}*PI/180:ow=hypot(iw,ih):oh=ow:c=none'[a];[0][a]overlay=${finalX}:${finalY}\" -y testRotation.jpg`\r\n\r\n        let urlTextLogo = `ffmpeg -i gridOrg.jpg -i ${this.state.logoOriginalFile.name} -filter_complex \"[1]scale=${fW}:${fH}[t],[t]lut=a=val*0.${this.state.logoOpacity}[t],[t]rotate=${this.state.logoRoatation}*PI/180[t],[0][t]overlay=${finalX}:${finalY}[i1];[i1]drawtext=fontfile='${finalText.textFontName}.ttf': text='${finalText.watermarkText}':fontcolor=${finalText.color}@0.${finalText.opacity}:fontsize=${finalText.finalTextF}:x=${finalText.finalTextX}:y=${finalText.finalTextY}\" -y res_logoText.jpg`;\r\n\r\n        console.log(urlTextLogo);   \r\n\r\n        let multiLoogSinglelogUrl = `ffmpeg -i gridOrg.jpg  -i ${this.state.logoOriginalFile.name} -i ${this.state.logoOriginalFile.name} -filter_complex \"[1]scale=${fW}:${fH}[t],[t]lut=a=val*0.${this.state.logoOpacity}[t],\r\n        [t]rotate=${this.state.logoRoatation}*PI/180[t],[0][t]overlay=${finalX}:${finalY}[i1];\r\n         [2]scale=${fW}:${fH}[t],[t]lut=a=val*0.${this.state.logoOpacity}[t],[t]rotate=${this.state.logoRoatation}*PI/180[t],[i1][t]overlay=${finalX+200}:${finalY}[i2];\r\n         [i2]drawtext=fontfile=cour.ttf: text='India':fontcolor=red@0.8:fontsize=20:x=300:y=20\" -preset ultrafast -y multiLogo.jpg\r\n        `\r\n        \r\n       // (finalText , finalText1);\r\n        let multiTextsingeLogo = `ffmpeg -i gridSm.jpg -i ${this.state.logoOriginalFile.name}\r\n         -filter_complex \"[1]scale=${fW}:${fH}[t],[t]lut=a=val*0.${this.state.logoOpacity}[t],[t]rotate=${this.state.logoRoatation}*PI/180[t],[0][t]overlay=${finalX}:${finalY}[i1];\r\n        [i1]drawtext=fontfile=${finalText.textFontName}.ttf: text='${finalText.watermarkText}':fontcolor=${finalText.color}@0.${finalText.opacity}:fontsize=${finalText.finalTextF}:x=${finalText.finalTextX}:y=${finalText.finalTextY}[i2];\r\n        [i2]drawtext=fontfile=${finalText1.textFontName}.ttf: text='${finalText1.watermarkText}':fontcolor=${finalText1.color}@0.${finalText1.opacity}:fontsize=${finalText1.finalTextF}:x=${finalText1.finalTextX}:y=${finalText1.finalTextY}\" -preset ultrafast -y res_multy_text.jpg`\r\n       \r\n        console.log(multiTextsingeLogo);     \r\n    }\r\n\r\n\r\n    addTextWatermark = () =>{\r\n\r\n       let vm = this;\r\n\r\n       let userTextWatermarkList = this.state.textWatermarkList;\r\n\r\n    \r\n     \r\n      //  let textOne = userTextWatermarkList[0];\r\n\r\n        for (let i = 0; i < userTextWatermarkList.length; i++) {\r\n            let textOne = userTextWatermarkList[i];\r\n            \r\n            let textOneStyle = `font-size: ${textOne.fontSize}px; opacity:0.${textOne.opacity}; font-family: ${textOne.fontFamily}; position: absolute; color:${textOne.color}`;\r\n            let newTextWatermark = document.createElement('div'); // is a node\r\n    \r\n                 newTextWatermark.setAttribute(\"class\", \"draggable-text\");\r\n                 newTextWatermark.setAttribute(\"style\", textOneStyle);\r\n                 newTextWatermark.setAttribute(\"id\", `${textOne.watermarkID}`);\r\n                 console.log(newTextWatermark);\r\n    \r\n                 let subTextdiv = document.createElement('div');\r\n                     subTextdiv.setAttribute(\"style\", `transform : rotate(${textOne.textRotatation}deg)`);\r\n                     subTextdiv.innerHTML = `${textOne.watermarkText}`;\r\n                     newTextWatermark.appendChild(subTextdiv);\r\n    \r\n                     newTextWatermark.onclick = function () {\r\n                        vm.setState({ currentEementId :`${textOne.watermarkID}` })\r\n                        console.log(\"ele changed \" , newTextWatermark , vm.state);\r\n                    };\r\n\r\n                    // add to dom \r\n                    document.getElementById(\"cover\").appendChild(newTextWatermark);\r\n        }\r\n\r\n       \r\n\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        let logoStyle = {\r\n            width: this.state.logoSize,\r\n            opacity: `0.${this.state.logoOpacity}`,\r\n            transform: `rotate(${this.state.logoRoatation}deg)`\r\n        }\r\n\r\n        let editorConsole = {\r\n            position: \"relative\",\r\n            backgroundImage: `url(${this.state.file})`,\r\n            width: \"500px\",\r\n            height: \"375px\",\r\n        }\r\n\r\n     \r\n\r\n        return (\r\n            <div>\r\n\r\n                <div>\r\n                   \r\n                    text Opacity : <input type=\"range\" name=\"points\" min=\"0\" max=\"9\"\r\n                        onChange={e => this.domChangeHandler(\"opacity\",e.target.value)} />\r\n                    {/* Font :  <input type=\"range\" name=\"font\" min={10} max={100} \r\n                            onChange={e => this.FontHandler(e)} /> */}\r\n                    Logo Opacity : <input type=\"range\" name=\"logoOpacity\" min=\"0\" max=\"9\"\r\n                        onChange={e => this.logoOpacityHandler(e)} />\r\n                  \r\n                    Logo Rotation : <input type=\"range\" name=\"logoRotation\" min=\"0\" max=\"360\"\r\n                        onChange={(e) => this.setState({ logoRoatation: parseInt(e.target.value, 10) })} />\r\n                    Text Rotation : <input type=\"range\" name=\"logoRotation\" min=\"0\" max=\"360\"\r\n                        onChange={(e) => this.setState({ textRotatation: parseInt(e.target.value, 10) })} />\r\n                        <br />\r\n                    cover: <input type=\"file\" onChange={this.handleChange} />\r\n                    logo : <input type=\"file\" onChange={this.handleLogoFile} />\r\n                    text : <input type=\"text\" onChange={e => this.domChangeHandler(\"watermarkText\" , e.target.value)} />\r\n                    {/* logoRotate <input type=\"number\" onChange={ (e) => this.setState({ textRotatation : parseInt(e.target.value, 10)})} />  */}\r\n                    text Range : <input type=\"range\" name=\"points\" min=\"0\" max=\"100\"\r\n                        onChange={e => this.domChangeHandler(\"textRange\",e.target.value)} />\r\n\r\n                    <select id=\"textColors\" onChange={ e => this.domChangeHandler(\"color\" , e.target.value)}>\r\n                        <option value=\"red\">red</option>\r\n                        <option value=\"yellow\">yellow</option>\r\n                        <option value=\"pink\">pink</option>\r\n                        <option value=\"blue\">blue</option>\r\n                        </select>\r\n                </div>\r\n\r\n                <span>\r\n                    <button onClick={() => this.domChangeHandler(\"fontAdd\")}>Font++</button>\r\n                    <button onClick={() => this.domChangeHandler(\"fontRemove\")}>Font --</button>\r\n                    <button onClick={() => this.increaseLogo()}> logo ++</button>\r\n                    <button onClick={() => this.reduceLogo()}> logo -- </button>\r\n                    {/* <button onClick={() => this.saveImg()}> Save Img</button> */}\r\n                    <button onClick={() => this.checkImg()}> check Img</button>\r\n                    <button onClick={ () => this.addTextWatermark()} > Add Text</button>\r\n\r\n                </span>\r\n                <hr />\r\n\r\n                <div className=\"watermark-playground\">\r\n\r\n                    <div className=\"editor-console\"\r\n                        id=\"cover\"\r\n                        style={editorConsole}\r\n                    >\r\n\r\n                        <div className=\"draggable-logo\"\r\n                            id=\"watermarkLogo\"\r\n                            style={{ position: \"absolute\" }} >\r\n                            <img src={this.state.logoFile}\r\n                                id=\"watermarkLogoImg\"\r\n                                style={logoStyle}\r\n\r\n                                className=\"resizable-logo\"\r\n                            />\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <br />\r\n                <br />\r\n                <br />\r\n                <br />\r\n                <br />\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default WatermarkPosition;"]},"metadata":{},"sourceType":"module"}