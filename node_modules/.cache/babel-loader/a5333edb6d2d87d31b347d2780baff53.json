{"ast":null,"code":"var _jsxFileName = \"C:\\\\audi_\\\\ESPL_projects\\\\facebook\\\\src\\\\components\\\\watermarks\\\\watermarkPositions.js\";\nimport React, { Component } from 'react';\nimport demoImg from \"../../assets/ntr5.jpg\";\nimport waterMark from \"../../assets/logo3.jpg\";\nimport \"./index.css\";\n\nconst interact = require('interactjs');\n\nclass WatermarkPosition extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addFont = () => {\n      this.setState({\n        fontSize: this.state.fontSize + 1\n      });\n    };\n\n    this.removeFont = () => {\n      this.setState({\n        fontSize: this.state.fontSize - 1\n      });\n    };\n\n    this.reduceOpacity = () => {\n      this.setState({\n        opacity: this.state.opacity - 1\n      });\n    };\n\n    this.increaseOpacity = () => {\n      this.setState({\n        opacity: this.state.opacity + 1\n      });\n    };\n\n    this.reduceLogoOpacity = () => {\n      this.setState({\n        logoOpacity: this.state.logoOpacity - 1\n      });\n    };\n\n    this.increaseLogoOpacity = () => {\n      this.setState({\n        logoOpacity: this.state.logoOpacity + 1\n      });\n    };\n\n    this.increaseLogo = () => {\n      this.setState({\n        logoSize: this.state.logoSize + 5\n      });\n    };\n\n    this.reduceLogo = () => {\n      this.setState({\n        logoSize: this.state.logoSize - 5\n      });\n    };\n\n    this.saveImg = () => {\n      let waterMarkText = document.getElementById('watermarkText');\n      console.log(waterMarkText.style.transform);\n      let watermarkLogo = document.getElementById('watermarkLogo');\n      console.log(`logo movement : ${watermarkLogo.style.transform}`); // er -40\n\n      let movement = watermarkLogo.style.transform.split(\",\");\n      let positiveX = !movement[0].includes(\"-\");\n      let positiveY = !movement[1].includes(\"-\");\n      let xMove = parseInt(movement[0].replace(/\\D/g, \"\"), 10);\n      xMove = positiveX ? xMove * 1 : xMove * -1;\n      let yMove = parseInt(movement[1].replace(/\\D/g, \"\"), 10);\n      yMove = positiveY ? yMove * 1 : yMove * -1;\n      yMove = yMove + 23;\n      console.log(`logo movement : xMove = ${xMove}, yMove=${yMove}`); // er -40\n\n      let watermarkLogoImg = document.getElementById('watermarkLogoImg');\n      let logoH = watermarkLogoImg.style.height;\n      let logoW = watermarkLogoImg.style.width;\n      console.log(` Logo width  : ${logoW} - Logo height : ${logoH} - logo opacity : ${this.state.logoOpacity}`); // er -40\n\n      let originalImgWidth = 1000;\n      let originalImgHight = 667;\n      let userImg = originalImgWidth > originalImgHight ? \"W\" : \"H\";\n      let aspectRation = userImg == \"W\" ? originalImgWidth / 1000 : originalImgHight / 600; //  console.log(` New Logo height : ${logoH * aspectRation} - Logo width : ${logoW  * aspectRation} - logo opacity : ${this.state.logoOpacity}` ); \n\n      console.log(aspectRation);\n      console.log(userImg);\n      console.log(`final logo movement : xMove = ${xMove * aspectRation}, yMove=${yMove * aspectRation}`);\n      console.log(`final Logo height : ${logoH * aspectRation} - final Logo width : ${logoW * aspectRation} - logo opacity : ${this.state.logoOpacity}`);\n    };\n\n    this.getLogos = () => {\n      let logoStyle = {\n        width: this.state.logoSize,\n        opacity: `0.${this.state.logoOpacity}`\n      };\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"draggable-logo\",\n        id: \"watermarkLogo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: waterMark,\n        id: \"watermarkLogoImg\",\n        style: logoStyle,\n        className: \"resizable-logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      })));\n    };\n\n    this.state = {\n      fontSize: 20,\n      rotate: 20,\n      opacity: 9,\n      logoOpacity: 9,\n      logoSize: 80,\n      watermarkText: \"Â© dymmyImg Press and contributors 2020\"\n    };\n  }\n\n  componentDidMount() {\n    // drag the element on page \n    const position = {\n      x: 0,\n      y: 0\n    };\n    interact('.draggable-logo').draggable({\n      listeners: {\n        start(event) {// console.log(event.type, event.target)\n        },\n\n        move(event) {\n          position.x += event.dx;\n          position.y += event.dy;\n          event.target.style.transform = `translate(${position.x}px, ${position.y}px)`;\n          console.log(event.type, event.target);\n        }\n\n      }\n    }); // resize the element \n\n    interact(\".resizable-logo\").resizable({\n      edges: {\n        left: false,\n        right: true,\n        bottom: true,\n        top: false\n      },\n      // modifiers: [\n      //   interact.modifiers.restrictEdges({\n      //     outer: \"parent\",\n      //     endOnly: true\n      //   })\n      // ],\n      inertia: true,\n      modifiers: [// keep the edges inside the parent\n      // interact.modifiers.restrictEdges({\n      //   outer: 'parent'\n      // }),\n      // minimum size\n      interact.modifiers.restrictSize({\n        min: {\n          width: 100,\n          height: 50\n        }\n      })]\n    }).on(\"resizemove\", function (event) {\n      var target = event.target;\n      console.log(target);\n      target.style.width = event.rect.width + \"px\";\n      target.style.height = event.rect.height + \"px\";\n    }); // text drag(move)\n\n    interact('.draggable-text').draggable({\n      listeners: {\n        start(event) {// console.log(event.type, event.target)\n        },\n\n        move(event) {\n          position.x += event.dx;\n          position.y += event.dy;\n          console.log(event);\n          event.target.style.transform = `translate(${position.x}px, ${position.y}px)`; // console.log(event.type, event.target)\n        }\n\n      }\n    }); // resize the element \n    // interact(\".resizable-text\")\n    // .resizable({\n    //         edges: { left: false, right: true, bottom: true, top: false },\n    //         // modifiers: [\n    //         //   interact.modifiers.restrictEdges({\n    //         //     outer: \"parent\",\n    //         //     endOnly: true\n    //         //   })\n    //         // ],\n    //         inertia: true\n    //     })\n    //     .on(\"resizemove\", function(event) {\n    //         var target = event.target\n    //         console.log(event);\n    //         target.style.width = event.rect.width + \"px\"\n    //         target.style.height = event.rect.height + \"px\"\n    //     })\n  }\n\n  render() {\n    let textStyle = {\n      background: \"red\",\n      fontSize: this.state.fontSize,\n      opacity: `0.${this.state.opacity}`,\n      fontFamily: \"Courier New\"\n    };\n    let logoStyle = {\n      width: this.state.logoSize,\n      opacity: `0.${this.state.logoOpacity}`\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.addFont(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, \"Font+\"), React.createElement(\"button\", {\n      onClick: () => this.removeFont(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, \"Font -\"), React.createElement(\"button\", {\n      onClick: () => this.reduceOpacity(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"Opacity -- \"), React.createElement(\"button\", {\n      onClick: () => this.increaseOpacity(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, \"Opacity ++\"), React.createElement(\"button\", {\n      onClick: () => this.increaseLogo(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, \"WaterMark logo ++\"), React.createElement(\"button\", {\n      onClick: () => this.reduceLogo(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"WaterMark logo -- \"), React.createElement(\"button\", {\n      onClick: () => this.saveImg(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, \" Save Img\"), React.createElement(\"button\", {\n      onClick: () => this.reduceLogoOpacity(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \" logo Opacity -- \"), React.createElement(\"button\", {\n      onClick: () => this.increaseLogoOpacity(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, \" logo Opacity ++\")), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"watermark-playground\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"editor-console\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"draggable-text\",\n      id: \"watermarkText\",\n      style: textStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, this.state.watermarkText), this.getLogos())));\n  }\n\n}\n\nexport default WatermarkPosition;","map":{"version":3,"sources":["C:/audi_/ESPL_projects/facebook/src/components/watermarks/watermarkPositions.js"],"names":["React","Component","demoImg","waterMark","interact","require","WatermarkPosition","constructor","props","addFont","setState","fontSize","state","removeFont","reduceOpacity","opacity","increaseOpacity","reduceLogoOpacity","logoOpacity","increaseLogoOpacity","increaseLogo","logoSize","reduceLogo","saveImg","waterMarkText","document","getElementById","console","log","style","transform","watermarkLogo","movement","split","positiveX","includes","positiveY","xMove","parseInt","replace","yMove","watermarkLogoImg","logoH","height","logoW","width","originalImgWidth","originalImgHight","userImg","aspectRation","getLogos","logoStyle","rotate","watermarkText","componentDidMount","position","x","y","draggable","listeners","start","event","move","dx","dy","target","type","resizable","edges","left","right","bottom","top","inertia","modifiers","restrictSize","min","on","rect","render","textStyle","background","fontFamily"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport demoImg from \"../../assets/ntr5.jpg\";\r\nimport waterMark from \"../../assets/logo3.jpg\";\r\n\r\n\r\nimport \"./index.css\";\r\nconst interact = require('interactjs')\r\n\r\n\r\n\r\nclass WatermarkPosition extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            fontSize: 20,\r\n            rotate: 20,\r\n            opacity: 9,\r\n            logoOpacity : 9,\r\n            logoSize: 80,\r\n            watermarkText: \"Â© dymmyImg Press and contributors 2020\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n\r\n        // drag the element on page \r\n        const position = { x: 0, y: 0 }\r\n        interact('.draggable-logo').draggable({\r\n            listeners: {\r\n                start(event) {\r\n                    // console.log(event.type, event.target)\r\n                },\r\n                move(event) {\r\n                    position.x += event.dx\r\n                    position.y += event.dy\r\n\r\n                    event.target.style.transform =\r\n                        `translate(${position.x}px, ${position.y}px)`\r\n\r\n                    console.log(event.type, event.target)\r\n                },\r\n\r\n            }\r\n        })\r\n\r\n        // resize the element \r\n        interact(\".resizable-logo\")\r\n            .resizable({\r\n                edges: { left: false, right: true, bottom: true, top: false },\r\n                // modifiers: [\r\n                //   interact.modifiers.restrictEdges({\r\n                //     outer: \"parent\",\r\n                //     endOnly: true\r\n                //   })\r\n                // ],\r\n                inertia: true,\r\n                modifiers: [\r\n                    // keep the edges inside the parent\r\n                    // interact.modifiers.restrictEdges({\r\n                    //   outer: 'parent'\r\n                    // }),\r\n\r\n                    // minimum size\r\n                    interact.modifiers.restrictSize({\r\n                        min: { width: 100, height: 50 }\r\n                    })\r\n                ],\r\n            })\r\n            .on(\"resizemove\", function (event) {\r\n                var target = event.target\r\n                console.log(target);\r\n                target.style.width = event.rect.width + \"px\"\r\n                target.style.height = event.rect.height + \"px\"\r\n            })\r\n\r\n\r\n        // text drag(move)\r\n        interact('.draggable-text').draggable({\r\n            listeners: {\r\n                start(event) {\r\n                    // console.log(event.type, event.target)\r\n                },\r\n                move(event) {\r\n                    position.x += event.dx\r\n                    position.y += event.dy\r\n                    console.log(event)\r\n                    event.target.style.transform =\r\n                        `translate(${position.x}px, ${position.y}px)`\r\n\r\n                    // console.log(event.type, event.target)\r\n                },\r\n\r\n            }\r\n        })\r\n\r\n        // resize the element \r\n        // interact(\".resizable-text\")\r\n        // .resizable({\r\n        //         edges: { left: false, right: true, bottom: true, top: false },\r\n        //         // modifiers: [\r\n        //         //   interact.modifiers.restrictEdges({\r\n        //         //     outer: \"parent\",\r\n        //         //     endOnly: true\r\n        //         //   })\r\n        //         // ],\r\n        //         inertia: true\r\n        //     })\r\n        //     .on(\"resizemove\", function(event) {\r\n        //         var target = event.target\r\n        //         console.log(event);\r\n        //         target.style.width = event.rect.width + \"px\"\r\n        //         target.style.height = event.rect.height + \"px\"\r\n        //     })\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    addFont = () => {\r\n\r\n        this.setState({\r\n            fontSize: this.state.fontSize + 1\r\n        })\r\n    }\r\n\r\n    removeFont = () => {\r\n\r\n        this.setState({\r\n            fontSize: this.state.fontSize - 1\r\n        })\r\n    }\r\n\r\n    reduceOpacity = () => {\r\n\r\n        this.setState({\r\n            opacity: this.state.opacity - 1\r\n        })\r\n    }\r\n\r\n    increaseOpacity = () => {\r\n\r\n        this.setState({\r\n            opacity: this.state.opacity + 1\r\n        })\r\n    }\r\n\r\n    reduceLogoOpacity = () => {\r\n\r\n        this.setState({\r\n            logoOpacity: this.state.logoOpacity - 1\r\n        })\r\n    }\r\n\r\n    increaseLogoOpacity = () => {\r\n\r\n        this.setState({\r\n            logoOpacity: this.state.logoOpacity + 1\r\n        })\r\n    }\r\n\r\n\r\n    increaseLogo = () => {\r\n\r\n        this.setState({\r\n            logoSize: this.state.logoSize + 5\r\n        })\r\n    }\r\n\r\n    reduceLogo = () => {\r\n\r\n        this.setState({\r\n            logoSize: this.state.logoSize - 5\r\n        })\r\n    }\r\n\r\n    saveImg = () => {\r\n\r\n        let waterMarkText = document.getElementById('watermarkText');\r\n        console.log(waterMarkText.style.transform);\r\n\r\n        let watermarkLogo = document.getElementById('watermarkLogo');\r\n    \r\n        console.log(`logo movement : ${watermarkLogo.style.transform}`);  // er -40\r\n\r\n        let movement = watermarkLogo.style.transform.split(\",\");\r\n       \r\n        let positiveX = !movement[0].includes(\"-\"); \r\n        let positiveY = !movement[1].includes(\"-\");\r\n        let xMove = parseInt(movement[0].replace(/\\D/g, \"\"),10);\r\n        xMove = positiveX ? xMove * 1 : xMove * -1;\r\n        let yMove = parseInt( movement[1].replace(/\\D/g, \"\"), 10);\r\n        yMove = positiveY ? yMove * 1 : yMove * -1;\r\n        yMove = yMove + 23;\r\n        console.log(`logo movement : xMove = ${xMove}, yMove=${yMove}`);  // er -40\r\n\r\n        let watermarkLogoImg = document.getElementById('watermarkLogoImg');\r\n        let logoH =  watermarkLogoImg.style.height;\r\n        let logoW =  watermarkLogoImg.style.width;\r\n      \r\n        console.log(` Logo width  : ${logoW} - Logo height : ${logoH} - logo opacity : ${this.state.logoOpacity}` );  // er -40\r\n       \r\n       \r\n \r\n\r\n        let originalImgWidth = 1000;\r\n        let originalImgHight = 667;\r\n\r\n        let userImg = originalImgWidth > originalImgHight ? \"W\" : \"H\";\r\n        let aspectRation =    userImg == \"W\" ?   originalImgWidth/1000 :  originalImgHight/600; \r\n\r\n      //  console.log(` New Logo height : ${logoH * aspectRation} - Logo width : ${logoW  * aspectRation} - logo opacity : ${this.state.logoOpacity}` ); \r\n\r\n        console.log(aspectRation);\r\n        console.log(userImg);\r\n\r\n        console.log(`final logo movement : xMove = ${xMove * aspectRation}, yMove=${yMove * aspectRation}`); \r\n        console.log(`final Logo height : ${logoH * aspectRation} - final Logo width : ${logoW  * aspectRation} - logo opacity : ${this.state.logoOpacity}` ); \r\n    }\r\n\r\n\r\n    getLogos = ()=>{\r\n\r\n        let logoStyle = {\r\n            width: this.state.logoSize,\r\n            opacity: `0.${this.state.logoOpacity}`,\r\n        }\r\n\r\n\r\n        return <div>\r\n                        <div className=\"draggable-logo\" id=\"watermarkLogo\" >\r\n                            <img src={waterMark}\r\n                                id=\"watermarkLogoImg\"\r\n                                style={logoStyle}\r\n\r\n                                className=\"resizable-logo\"\r\n                            />\r\n                        </div>\r\n\r\n                        \r\n                       \r\n                       </div>\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        let textStyle = {\r\n            background: \"red\",\r\n            fontSize: this.state.fontSize,\r\n            opacity: `0.${this.state.opacity}`,\r\n            fontFamily: \"Courier New\"\r\n        }\r\n\r\n        let logoStyle = {\r\n            width: this.state.logoSize,\r\n            opacity: `0.${this.state.logoOpacity}`,\r\n        }\r\n\r\n        return (\r\n            <div>\r\n\r\n                <span>\r\n                    <button onClick={() => this.addFont()}>Font+</button>\r\n                    <button onClick={() => this.removeFont()}>Font -</button>\r\n                    <button onClick={() => this.reduceOpacity()}>Opacity -- </button>\r\n                    <button onClick={() => this.increaseOpacity()}>Opacity ++</button>\r\n                    <button onClick={() => this.increaseLogo()}>WaterMark logo ++</button>\r\n                    <button onClick={() => this.reduceLogo()}>WaterMark logo -- </button>\r\n                    <button onClick={() => this.saveImg()}> Save Img</button>\r\n\r\n                    <button onClick={() => this.reduceLogoOpacity()}> logo Opacity -- </button>\r\n                    <button onClick={() => this.increaseLogoOpacity()}> logo Opacity ++</button>\r\n                    \r\n                </span>\r\n                <hr />\r\n\r\n\r\n                <div className=\"watermark-playground\">\r\n\r\n                    <div className=\"editor-console\" >\r\n\r\n                        <div className=\"draggable-text\" id=\"watermarkText\" style={textStyle} >\r\n                            {this.state.watermarkText}\r\n                        </div>\r\n\r\n\r\n                     {this.getLogos()}\r\n\r\n                        </div>\r\n\r\n\r\n                </div>\r\n\r\n               </div> \r\n                );\r\n            }\r\n        }\r\n        \r\nexport default WatermarkPosition;"]},"metadata":{},"sourceType":"module"}