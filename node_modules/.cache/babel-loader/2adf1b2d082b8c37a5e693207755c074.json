{"ast":null,"code":"var _jsxFileName = \"C:\\\\audi_\\\\ESPL_projects\\\\facebook\\\\src\\\\components\\\\watermarks\\\\fixedImg.js\";\nimport React, { Component } from 'react';\nimport demoImg from \"../../assets/ntr5.jpg\";\nimport waterMark from \"../../assets/resize_logo.png\";\nimport \"./index.css\";\n\nconst interact = require('interactjs');\n\nclass WatermarkPosition extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      console.log(event.target.files[0]);\n      this.setState({\n        file: URL.createObjectURL(event.target.files[0])\n      });\n    };\n\n    this.addFont = () => {\n      this.setState({\n        fontSize: this.state.fontSize + 1\n      });\n    };\n\n    this.removeFont = () => {\n      this.setState({\n        fontSize: this.state.fontSize - 1\n      });\n    };\n\n    this.reduceOpacity = () => {\n      this.setState({\n        opacity: this.state.opacity - 1\n      });\n    };\n\n    this.increaseOpacity = () => {\n      this.setState({\n        opacity: this.state.opacity + 1\n      });\n    };\n\n    this.reduceLogoOpacity = () => {\n      this.setState({\n        logoOpacity: this.state.logoOpacity - 1\n      });\n    };\n\n    this.increaseLogoOpacity = () => {\n      this.setState({\n        logoOpacity: this.state.logoOpacity + 1\n      });\n    };\n\n    this.increaseLogo = () => {\n      this.setState({\n        logoSize: this.state.logoSize + 5\n      });\n    };\n\n    this.reduceLogo = () => {\n      this.setState({\n        logoSize: this.state.logoSize - 5\n      });\n    };\n\n    this.handleFileInput = () => {};\n\n    this.saveImg = () => {\n      // let waterMarkText = document.getElementById('watermarkText');\n      // console.log(waterMarkText.style.transform);\n      let watermarkLogo = document.getElementById('watermarkLogo');\n      console.log(`logo movement : ${watermarkLogo.style.transform}`); // er -40\n      // let movement = watermarkLogo.style.transform.split(\",\");\n      // let positiveX = !movement[0].includes(\"-\");\n      // let positiveY = !movement[1].includes(\"-\");\n      // let xMove = parseInt(movement[0].replace(/\\D/g, \"\"), 10);\n      // xMove = positiveX ? xMove * 1 : xMove * -1;\n      // let yMove = parseInt(movement[1].replace(/\\D/g, \"\"), 10);\n      // yMove = positiveY ? yMove * 1 : yMove * -1;\n      // yMove = yMove + 23;\n      // console.log(`logo movement : xMove = ${xMove}, yMove=${yMove}`);  // er -40\n\n      let watermarkLogoImg = document.getElementById('watermarkLogoImg');\n      let logoH = parseFloat(watermarkLogoImg.style.height);\n      let logoW = parseFloat(watermarkLogoImg.style.width);\n      console.log(watermarkLogoImg);\n      console.log(` Logo width  : ${logoW} - Logo height : ${logoH} - logo opacity : ${this.state.logoOpacity}`); // er -40\n      // let originalImgWidth = 1000;\n      // let originalImgHight = 667;\n      // let userImg = originalImgWidth > originalImgHight ? \"W\" : \"H\";\n      // let aspectRation = userImg == \"W\" ? originalImgWidth / 1000 : originalImgHight / 600;\n      // let nLogoWidth = originalImgWidth * logoW / 800;\n      // let nLogoHeight = originalImgHight * logoH / 533.6;\n      // let nLogoOriginX = xMove * originalImgWidth / 800;\n      // let nLogoOriginY = yMove * originalImgHight / 533.6;\n      // console.log(aspectRation);\n      // console.log(userImg);\n      // console.log(`final logo movement : xMove = ${xMove * aspectRation}, yMove=${yMove * aspectRation}`);\n      // console.log(`final Logo width : ${logoW * aspectRation} - final Logo height : ${logoH * aspectRation} - logo opacity : ${this.state.logoOpacity}`);\n      // let url = `ffmpeg -i ntr5.jpg -i logo3.jpg -filter_complex \"[1]scale=${nLogoWidth}:${nLogoHeight}[a];[a]lut=a=val*0.9[b];[0][b] overlay=${nLogoOriginX}:${nLogoOriginY}\" -y watermarkLogo.jpg`\n      // // scale => width and h of logo \n      // // overlay => x y start position \n      // console.log(url);\n    };\n\n    this.checkImg = () => {\n      // bg img wh \n      var cover = document.querySelector(\"#cover\");\n      var currWidth = cover.clientWidth;\n      var currHeight = cover.clientHeight; // logo w h\n\n      var wmLogoImg = document.querySelector(\"#watermarkLogo\");\n      var wmLogoImgcurrWidth = wmLogoImg.clientWidth;\n      var wmLogoImgcurrHeight = wmLogoImg.clientHeight;\n      console.log(currWidth, currHeight); // original Cover(img) values ;\n\n      let originalCoverW = 2000;\n      let originalCoverH = 1200; // preview (cover) Img value;\n\n      let pervieCoverW = currWidth;\n      let pervieCoverH = currHeight;\n      console.log(`cover - ${currWidth}-${currHeight} == logo ${wmLogoImgcurrWidth} - ${wmLogoImgcurrHeight}`);\n      let watermarkLogo = document.getElementById('watermarkLogo');\n      let movement = watermarkLogo.style.transform.split(\",\");\n      let positiveX = !movement[0].includes(\"-\");\n      let positiveY = !movement[1].includes(\"-\");\n      let xMove = parseInt(movement[0].replace(/\\D/g, \"\"), 10);\n      xMove = positiveX ? xMove * 1 : xMove * -1;\n      let yMove = parseInt(movement[1].replace(/\\D/g, \"\"), 10);\n      yMove = positiveY ? yMove * 1 : yMove * -1;\n      yMove = yMove;\n      console.log(`logo movement : xMove = ${xMove}, yMove=${yMove}`); // er -40\n\n      console.log(`logo movement : ${watermarkLogo.style.transform}`); // er -40\n      // distance  x y \n\n      let aspRatiobyW = originalCoverW / pervieCoverW; // by width \n\n      let aspRatiobyH = originalCoverH / pervieCoverH; // by h\n      // xy on original img \n\n      let finalX = aspRatiobyW * xMove;\n      let finalY = aspRatiobyH * yMove;\n      let fW = wmLogoImgcurrWidth * aspRatiobyW;\n      let fH = (wmLogoImgcurrHeight - 4) * aspRatiobyH; // 40 val % --> \n\n      let hAdjust = 40 / originalCoverH * 100;\n      let errH = originalCoverH / 100 * hAdjust; // 3.2 is the % to inc per 100px with img height\n\n      let errLogoH = 4;\n      fH = fH + errH + errLogoH; // inc by errfactor => per 100px 3.2 px inc  & inc logo h by 4 px\n\n      console.log(fW);\n      console.log(fH); //  let fW = (2000*wmLogoImgcurrWidth)/1000;\n      //  let fH = (1250*wmLogoImgcurrHeight)/625;  // \n      // Percentage = (Value ⁄ Total Value) × 100\n      //  let perW = (wmLogoImgcurrWidth /1000 ) *100;  // 10%\n      //  let perH = (wmLogoImgcurrHeight /625 ) *100;  //10 % dummy \n      //  perW = perW * 2; // asp ration *\n      //  perH = perH * 2;\n      //  let orgW =  ( 1000 * perW) /100 ;\n      //  let orgH =   ( 625 * perH) /100 ;\n      //  console.log(orgW);\n      //  console.log(orgH);\n      //  let errH = 1250/100  * 3.2;\n      //  let finalLogoW =( 2000/1000 )*  wmLogoImgcurrWidth;     // 2000 = origin img width , 1000 = preview img Width \n      //  let finalLogoH =( 1200/1000 )*  wmLogoImgcurrHeight;\n      //  let resY = 1250 - finalY + orgH;\n      //  console.error(resY);\n\n      let url = `ffmpeg -i ntr2000x1200.png -i resize_logo.png -filter_complex \"[1]scale=${fW}:${fH}[a];[a]lut=a=val*0.9[b];[0][b] overlay=${finalX}:${finalY}\" -y watermarkLogo.jpg`;\n      console.log(url); // alert(\"Current width=\" + currWidth + \", \" + \"Original height=\" + currHeight );\n      //  alert( \"Current Lwidth=\" + wmLogoImgcurrWidth + \", \" + \"Original L height=\" + currHeight);\n    };\n\n    this.getLogos = () => {\n      let textStyle = {\n        background: \"red\",\n        fontSize: this.state.fontSize,\n        opacity: `0.${this.state.opacity}`,\n        fontFamily: \"Courier New\"\n      };\n      let logoStyle = {\n        width: this.state.logoSize,\n        opacity: `0.${this.state.logoOpacity}`\n      };\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      });\n    };\n\n    this.state = {\n      fontSize: 20,\n      rotate: 20,\n      opacity: 9,\n      logoOpacity: 9,\n      logoSize: 80,\n      watermarkText: \"© dymmyImg\",\n      BackgroundImgUrl: \"\",\n      file: \"\"\n    };\n  }\n\n  componentDidMount() {\n    // drag the element on page \n    const position = {\n      x: 0,\n      y: 0\n    };\n    interact('.draggable-logo').draggable({\n      listeners: {\n        start(event) {// console.log(event.type, event.target)\n        },\n\n        move(event) {\n          position.x += event.dx;\n          position.y += event.dy;\n          event.target.style.transform = `translate(${position.x}px, ${position.y}px)`;\n          console.log(event.type, event.target);\n        }\n\n      }\n    }); // resize the element \n\n    interact(\".resizable-logo\").resizable({\n      edges: {\n        left: false,\n        right: true,\n        bottom: true,\n        top: false\n      },\n      // modifiers: [\n      //   interact.modifiers.restrictEdges({\n      //     outer: \"parent\",\n      //     endOnly: true\n      //   })\n      // ],\n      inertia: true,\n      modifiers: [// keep the edges inside the parent\n      // interact.modifiers.restrictEdges({\n      //   outer: 'parent'\n      // }),\n      // minimum size\n      interact.modifiers.restrictSize({\n        min: {\n          width: 100,\n          height: 50\n        }\n      })]\n    }).on(\"resizemove\", function (event) {\n      var target = event.target;\n      console.log(target);\n      target.style.width = event.rect.width + \"px\";\n      target.style.height = event.rect.height + \"px\";\n    }); // text drag(move)\n\n    interact('.draggable-text').draggable({\n      listeners: {\n        start(event) {// console.log(event.type, event.target)\n        },\n\n        move(event) {\n          position.x += event.dx;\n          position.y += event.dy;\n          console.log(event);\n          event.target.style.transform = `translate(${position.x}px, ${position.y}px)`; // console.log(event.type, event.target)\n        }\n\n      }\n    }); // resize the element \n    // interact(\".resizable-text\")\n    // .resizable({\n    //         edges: { left: false, right: true, bottom: true, top: false },\n    //         // modifiers: [\n    //         //   interact.modifiers.restrictEdges({\n    //         //     outer: \"parent\",\n    //         //     endOnly: true\n    //         //   })\n    //         // ],\n    //         inertia: true\n    //     })\n    //     .on(\"resizemove\", function(event) {\n    //         var target = event.target\n    //         console.log(event);\n    //         target.style.width = event.rect.width + \"px\"\n    //         target.style.height = event.rect.height + \"px\"\n    //     })\n  }\n\n  render() {\n    let logoStyle = {\n      width: this.state.logoSize,\n      opacity: `0.${this.state.logoOpacity}`\n    };\n    let editorConsole = {\n      backgroundImage: `url(${this.state.file})`,\n      width: \"1000px\",\n      height: \"625px\"\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412\n      },\n      __self: this\n    }, \"User inputs \"), React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.addFont(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420\n      },\n      __self: this\n    }, \"Font+\"), React.createElement(\"button\", {\n      onClick: () => this.removeFont(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421\n      },\n      __self: this\n    }, \"Font -\"), React.createElement(\"button\", {\n      onClick: () => this.reduceOpacity(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422\n      },\n      __self: this\n    }, \"Opacity -- \"), React.createElement(\"button\", {\n      onClick: () => this.increaseOpacity(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    }, \"Opacity ++\"), React.createElement(\"button\", {\n      onClick: () => this.increaseLogo(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424\n      },\n      __self: this\n    }, \"WaterMark logo ++\"), React.createElement(\"button\", {\n      onClick: () => this.reduceLogo(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425\n      },\n      __self: this\n    }, \"WaterMark logo -- \"), React.createElement(\"button\", {\n      onClick: () => this.saveImg(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426\n      },\n      __self: this\n    }, \" Save Img\"), React.createElement(\"button\", {\n      onClick: () => this.checkImg(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427\n      },\n      __self: this\n    }, \" check Img\"), React.createElement(\"button\", {\n      onClick: () => this.reduceLogoOpacity(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428\n      },\n      __self: this\n    }, \" logo Opacity -- \"), React.createElement(\"button\", {\n      onClick: () => this.increaseLogoOpacity(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429\n      },\n      __self: this\n    }, \" logo Opacity ++\")), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"watermark-playground\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"editor-console\",\n      id: \"cover\",\n      style: editorConsole,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"draggable-logo\",\n      id: \"watermarkLogo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: waterMark,\n      id: \"watermarkLogoImg\",\n      style: logoStyle,\n      className: \"resizable-logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446\n      },\n      __self: this\n    })))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default WatermarkPosition;","map":{"version":3,"sources":["C:/audi_/ESPL_projects/facebook/src/components/watermarks/fixedImg.js"],"names":["React","Component","demoImg","waterMark","interact","require","WatermarkPosition","constructor","props","handleChange","event","console","log","target","files","setState","file","URL","createObjectURL","addFont","fontSize","state","removeFont","reduceOpacity","opacity","increaseOpacity","reduceLogoOpacity","logoOpacity","increaseLogoOpacity","increaseLogo","logoSize","reduceLogo","handleFileInput","saveImg","watermarkLogo","document","getElementById","style","transform","watermarkLogoImg","logoH","parseFloat","height","logoW","width","checkImg","cover","querySelector","currWidth","clientWidth","currHeight","clientHeight","wmLogoImg","wmLogoImgcurrWidth","wmLogoImgcurrHeight","originalCoverW","originalCoverH","pervieCoverW","pervieCoverH","movement","split","positiveX","includes","positiveY","xMove","parseInt","replace","yMove","aspRatiobyW","aspRatiobyH","finalX","finalY","fW","fH","hAdjust","errH","errLogoH","url","getLogos","textStyle","background","fontFamily","logoStyle","rotate","watermarkText","BackgroundImgUrl","componentDidMount","position","x","y","draggable","listeners","start","move","dx","dy","type","resizable","edges","left","right","bottom","top","inertia","modifiers","restrictSize","min","on","rect","render","editorConsole","backgroundImage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport demoImg from \"../../assets/ntr5.jpg\";\r\nimport waterMark from \"../../assets/resize_logo.png\";\r\n\r\n\r\n\r\nimport \"./index.css\";\r\nconst interact = require('interactjs')\r\n\r\n\r\n\r\nclass WatermarkPosition extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            fontSize: 20,\r\n            rotate: 20,\r\n            opacity: 9,\r\n            logoOpacity: 9,\r\n            logoSize: 80,\r\n            watermarkText: \"© dymmyImg\",\r\n            BackgroundImgUrl: \"\",\r\n            file: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n\r\n        // drag the element on page \r\n        const position = { x: 0, y: 0 }\r\n        interact('.draggable-logo').draggable({\r\n            listeners: {\r\n                start(event) {\r\n                    // console.log(event.type, event.target)\r\n                },\r\n                move(event) {\r\n                    position.x += event.dx\r\n                    position.y += event.dy\r\n\r\n                    event.target.style.transform =\r\n                        `translate(${position.x}px, ${position.y}px)`\r\n\r\n                    console.log(event.type, event.target)\r\n                },\r\n\r\n            }\r\n        })\r\n\r\n        // resize the element \r\n        interact(\".resizable-logo\")\r\n            .resizable({\r\n                edges: { left: false, right: true, bottom: true, top: false },\r\n                // modifiers: [\r\n                //   interact.modifiers.restrictEdges({\r\n                //     outer: \"parent\",\r\n                //     endOnly: true\r\n                //   })\r\n                // ],\r\n                inertia: true,\r\n                modifiers: [\r\n                    // keep the edges inside the parent\r\n                    // interact.modifiers.restrictEdges({\r\n                    //   outer: 'parent'\r\n                    // }),\r\n\r\n                    // minimum size\r\n                    interact.modifiers.restrictSize({\r\n                        min: { width: 100, height: 50 }\r\n                    })\r\n                ],\r\n            })\r\n            .on(\"resizemove\", function (event) {\r\n                var target = event.target\r\n                console.log(target);\r\n                target.style.width = event.rect.width + \"px\"\r\n                target.style.height = event.rect.height + \"px\"\r\n            })\r\n\r\n\r\n        // text drag(move)\r\n        interact('.draggable-text').draggable({\r\n            listeners: {\r\n                start(event) {\r\n                    // console.log(event.type, event.target)\r\n                },\r\n                move(event) {\r\n                    position.x += event.dx\r\n                    position.y += event.dy\r\n                    console.log(event)\r\n                    event.target.style.transform =\r\n                        `translate(${position.x}px, ${position.y}px)`\r\n\r\n                    // console.log(event.type, event.target)\r\n                },\r\n\r\n            }\r\n        })\r\n\r\n        // resize the element \r\n        // interact(\".resizable-text\")\r\n        // .resizable({\r\n        //         edges: { left: false, right: true, bottom: true, top: false },\r\n        //         // modifiers: [\r\n        //         //   interact.modifiers.restrictEdges({\r\n        //         //     outer: \"parent\",\r\n        //         //     endOnly: true\r\n        //         //   })\r\n        //         // ],\r\n        //         inertia: true\r\n        //     })\r\n        //     .on(\"resizemove\", function(event) {\r\n        //         var target = event.target\r\n        //         console.log(event);\r\n        //         target.style.width = event.rect.width + \"px\"\r\n        //         target.style.height = event.rect.height + \"px\"\r\n        //     })\r\n\r\n\r\n    }\r\n\r\n\r\n    handleChange = (event) => {\r\n\r\n        console.log(event.target.files[0]);\r\n\r\n        this.setState({\r\n            file: URL.createObjectURL(event.target.files[0])\r\n        })\r\n    }\r\n\r\n\r\n\r\n    addFont = () => {\r\n\r\n        this.setState({\r\n            fontSize: this.state.fontSize + 1\r\n        })\r\n    }\r\n\r\n    removeFont = () => {\r\n\r\n        this.setState({\r\n            fontSize: this.state.fontSize - 1\r\n        })\r\n    }\r\n\r\n    reduceOpacity = () => {\r\n\r\n        this.setState({\r\n            opacity: this.state.opacity - 1\r\n        })\r\n    }\r\n\r\n    increaseOpacity = () => {\r\n\r\n        this.setState({\r\n            opacity: this.state.opacity + 1\r\n        })\r\n    }\r\n\r\n    reduceLogoOpacity = () => {\r\n\r\n        this.setState({\r\n            logoOpacity: this.state.logoOpacity - 1\r\n        })\r\n    }\r\n\r\n    increaseLogoOpacity = () => {\r\n\r\n        this.setState({\r\n            logoOpacity: this.state.logoOpacity + 1\r\n        })\r\n    }\r\n\r\n\r\n    increaseLogo = () => {\r\n\r\n        this.setState({\r\n            logoSize: this.state.logoSize + 5\r\n        })\r\n    }\r\n\r\n    reduceLogo = () => {\r\n\r\n        this.setState({\r\n            logoSize: this.state.logoSize - 5\r\n        })\r\n    }\r\n\r\n\r\n    handleFileInput = () => {\r\n\r\n    }\r\n\r\n    saveImg = () => {\r\n\r\n        // let waterMarkText = document.getElementById('watermarkText');\r\n        // console.log(waterMarkText.style.transform);\r\n\r\n        let watermarkLogo = document.getElementById('watermarkLogo');\r\n\r\n        console.log(`logo movement : ${watermarkLogo.style.transform}`);  // er -40\r\n\r\n        // let movement = watermarkLogo.style.transform.split(\",\");\r\n\r\n        // let positiveX = !movement[0].includes(\"-\");\r\n        // let positiveY = !movement[1].includes(\"-\");\r\n        // let xMove = parseInt(movement[0].replace(/\\D/g, \"\"), 10);\r\n        // xMove = positiveX ? xMove * 1 : xMove * -1;\r\n        // let yMove = parseInt(movement[1].replace(/\\D/g, \"\"), 10);\r\n        // yMove = positiveY ? yMove * 1 : yMove * -1;\r\n        // yMove = yMove + 23;\r\n        // console.log(`logo movement : xMove = ${xMove}, yMove=${yMove}`);  // er -40\r\n\r\n        let watermarkLogoImg = document.getElementById('watermarkLogoImg');\r\n        let logoH = parseFloat(watermarkLogoImg.style.height);\r\n        let logoW = parseFloat(watermarkLogoImg.style.width);\r\n\r\n        console.log(watermarkLogoImg);\r\n\r\n         console.log(` Logo width  : ${logoW} - Logo height : ${logoH} - logo opacity : ${this.state.logoOpacity}`);  // er -40\r\n\r\n\r\n        // let originalImgWidth = 1000;\r\n        // let originalImgHight = 667;\r\n\r\n        // let userImg = originalImgWidth > originalImgHight ? \"W\" : \"H\";\r\n        // let aspectRation = userImg == \"W\" ? originalImgWidth / 1000 : originalImgHight / 600;\r\n\r\n\r\n        // let nLogoWidth = originalImgWidth * logoW / 800;\r\n        // let nLogoHeight = originalImgHight * logoH / 533.6;\r\n\r\n        // let nLogoOriginX = xMove * originalImgWidth / 800;\r\n        // let nLogoOriginY = yMove * originalImgHight / 533.6;\r\n\r\n\r\n        // console.log(aspectRation);\r\n        // console.log(userImg);\r\n\r\n        // console.log(`final logo movement : xMove = ${xMove * aspectRation}, yMove=${yMove * aspectRation}`);\r\n        // console.log(`final Logo width : ${logoW * aspectRation} - final Logo height : ${logoH * aspectRation} - logo opacity : ${this.state.logoOpacity}`);\r\n\r\n        // let url = `ffmpeg -i ntr5.jpg -i logo3.jpg -filter_complex \"[1]scale=${nLogoWidth}:${nLogoHeight}[a];[a]lut=a=val*0.9[b];[0][b] overlay=${nLogoOriginX}:${nLogoOriginY}\" -y watermarkLogo.jpg`\r\n        // // scale => width and h of logo \r\n        // // overlay => x y start position \r\n        // console.log(url);\r\n    }\r\n\r\n\r\n    checkImg = () => {\r\n\r\n\r\n        // bg img wh \r\n        var cover = document.querySelector(\"#cover\");\r\n        var currWidth = cover.clientWidth;\r\n        var currHeight = cover.clientHeight;\r\n\r\n        // logo w h\r\n        var wmLogoImg = document.querySelector(\"#watermarkLogo\");\r\n        var wmLogoImgcurrWidth = wmLogoImg.clientWidth;\r\n        var wmLogoImgcurrHeight = wmLogoImg.clientHeight;\r\n\r\n\r\n        console.log(currWidth , currHeight)\r\n        // original Cover(img) values ;\r\n        let originalCoverW = 2000; \r\n        let originalCoverH = 1200;\r\n\r\n        // preview (cover) Img value;\r\n        let pervieCoverW = currWidth; \r\n        let pervieCoverH = currHeight;\r\n\r\n\r\n\r\n\r\n\r\n\r\n        console.log(`cover - ${currWidth}-${currHeight} == logo ${wmLogoImgcurrWidth} - ${wmLogoImgcurrHeight}`);\r\n\r\n        let watermarkLogo = document.getElementById('watermarkLogo');\r\n\r\n          let movement = watermarkLogo.style.transform.split(\",\");\r\n\r\n        let positiveX = !movement[0].includes(\"-\");\r\n        let positiveY = !movement[1].includes(\"-\");\r\n        let xMove = parseInt(movement[0].replace(/\\D/g, \"\"), 10);\r\n        xMove = positiveX ? xMove * 1 : xMove * -1;\r\n        let yMove = parseInt(movement[1].replace(/\\D/g, \"\"), 10);\r\n        yMove = positiveY ? yMove * 1 : yMove * -1;\r\n        yMove = yMove;\r\n        console.log(`logo movement : xMove = ${xMove}, yMove=${yMove}`);  // er -40\r\n        console.log(`logo movement : ${watermarkLogo.style.transform}`);  // er -40\r\n\r\n        // distance  x y \r\n\r\n\r\n        let aspRatiobyW = originalCoverW /pervieCoverW ;  // by width \r\n        let aspRatiobyH = originalCoverH/pervieCoverH ; // by h\r\n\r\n\r\n        // xy on original img \r\n          let finalX = aspRatiobyW *  xMove;  \r\n         let finalY = aspRatiobyH *  yMove;\r\n\r\n\r\n         let fW = wmLogoImgcurrWidth * aspRatiobyW;\r\n         let fH = (wmLogoImgcurrHeight - 4) * aspRatiobyH;\r\n\r\n         // 40 val % --> \r\n\r\n         let hAdjust =  (40/originalCoverH)*100;\r\n\r\n         let errH = originalCoverH/100  * hAdjust; // 3.2 is the % to inc per 100px with img height\r\n         let errLogoH = 4;\r\n          fH = fH  + errH + errLogoH;  // inc by errfactor => per 100px 3.2 px inc  & inc logo h by 4 px\r\n\r\n         console.log(fW);\r\n         console.log(fH);\r\n        \r\n        //  let fW = (2000*wmLogoImgcurrWidth)/1000;\r\n        //  let fH = (1250*wmLogoImgcurrHeight)/625;  // \r\n\r\n      \r\n        // Percentage = (Value ⁄ Total Value) × 100\r\n\r\n        //  let perW = (wmLogoImgcurrWidth /1000 ) *100;  // 10%\r\n        //  let perH = (wmLogoImgcurrHeight /625 ) *100;  //10 % dummy \r\n\r\n        //  perW = perW * 2; // asp ration *\r\n        //  perH = perH * 2;\r\n\r\n        //  let orgW =  ( 1000 * perW) /100 ;\r\n        //  let orgH =   ( 625 * perH) /100 ;\r\n\r\n        //  console.log(orgW);\r\n        //  console.log(orgH);\r\n\r\n        //  let errH = 1250/100  * 3.2;\r\n         \r\n       \r\n        //  let finalLogoW =( 2000/1000 )*  wmLogoImgcurrWidth;     // 2000 = origin img width , 1000 = preview img Width \r\n\r\n        //  let finalLogoH =( 1200/1000 )*  wmLogoImgcurrHeight;\r\n\r\n        //  let resY = 1250 - finalY + orgH;\r\n        //  console.error(resY);\r\n\r\n        let url = `ffmpeg -i ntr2000x1200.png -i resize_logo.png -filter_complex \"[1]scale=${fW}:${fH}[a];[a]lut=a=val*0.9[b];[0][b] overlay=${finalX}:${finalY}\" -y watermarkLogo.jpg`\r\n  \r\n        console.log(url);\r\n\r\n        // alert(\"Current width=\" + currWidth + \", \" + \"Original height=\" + currHeight );\r\n        //  alert( \"Current Lwidth=\" + wmLogoImgcurrWidth + \", \" + \"Original L height=\" + currHeight);\r\n    }\r\n\r\n    getLogos = () => {\r\n\r\n        let textStyle = {\r\n            background: \"red\",\r\n            fontSize: this.state.fontSize,\r\n            opacity: `0.${this.state.opacity}`,\r\n            fontFamily: \"Courier New\"\r\n        }\r\n\r\n\r\n        let logoStyle = {\r\n            width: this.state.logoSize,\r\n            opacity: `0.${this.state.logoOpacity}`,\r\n        }\r\n\r\n\r\n        return <div>\r\n            {/* \r\n                       <div className=\"draggable-text\" id=\"watermarkText\" style={textStyle} >\r\n                            {this.state.watermarkText}\r\n                        </div> */}\r\n\r\n\r\n\r\n\r\n\r\n        </div>\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n\r\n        let logoStyle = {\r\n            width: this.state.logoSize,\r\n            opacity: `0.${this.state.logoOpacity}`,\r\n        }\r\n\r\n        let editorConsole = {\r\n\r\n            backgroundImage: `url(${this.state.file})`,\r\n            width: \"1000px\",\r\n            height: \"625px\"\r\n            \r\n\r\n        }\r\n\r\n        return (\r\n            <div>\r\n\r\n                <div>\r\n                    <h4>User inputs </h4>\r\n                    <input type=\"file\" onChange={this.handleChange} />\r\n\r\n                    {/* \r\n                     <img src={this.state.file}/> */}\r\n                </div>\r\n\r\n                <span>\r\n                    <button onClick={() => this.addFont()}>Font+</button>\r\n                    <button onClick={() => this.removeFont()}>Font -</button>\r\n                    <button onClick={() => this.reduceOpacity()}>Opacity -- </button>\r\n                    <button onClick={() => this.increaseOpacity()}>Opacity ++</button>\r\n                    <button onClick={() => this.increaseLogo()}>WaterMark logo ++</button>\r\n                    <button onClick={() => this.reduceLogo()}>WaterMark logo -- </button>\r\n                    <button onClick={() => this.saveImg()}> Save Img</button>\r\n                    <button onClick={() => this.checkImg()}> check Img</button>\r\n                    <button onClick={() => this.reduceLogoOpacity()}> logo Opacity -- </button>\r\n                    <button onClick={() => this.increaseLogoOpacity()}> logo Opacity ++</button>\r\n\r\n                </span>\r\n                <hr />\r\n\r\n\r\n                <div className=\"watermark-playground\">\r\n\r\n                    <div className=\"editor-console\"\r\n                        id=\"cover\"\r\n                        style={editorConsole}>\r\n\r\n\r\n\r\n\r\n                        <div className=\"draggable-logo\" \r\n                          id=\"watermarkLogo\" >\r\n                            <img src={waterMark}\r\n                                id=\"watermarkLogoImg\"\r\n                                style={logoStyle}\r\n\r\n                                className=\"resizable-logo\"\r\n                            />\r\n                        </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n\r\n\r\n<br />\r\n<br />\r\n<br />\r\n<br />\r\n<br />\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default WatermarkPosition;"]},"metadata":{},"sourceType":"module"}