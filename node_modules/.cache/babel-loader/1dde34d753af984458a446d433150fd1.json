{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OUTPUT_TYPE = exports.FILTER_TYPE = exports.WATER_MARK_TYPE = exports.MODE_TYPE = undefined;\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _photoMagician = require('photo-magician');\n\nvar _photoMagician2 = _interopRequireDefault(_photoMagician);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var gen = fn.apply(this, arguments);\n    return new Promise(function (resolve, reject) {\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          return Promise.resolve(value).then(function (value) {\n            step(\"next\", value);\n          }, function (err) {\n            step(\"throw\", err);\n          });\n        }\n      }\n\n      return step(\"next\");\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/**\n * @name react-image-process\n * @version 0.2.0\n */\n\n\nvar MODE_TYPE = exports.MODE_TYPE = {\n  base64: 'base64',\n  clip: 'clip',\n  compress: 'compress',\n  rotate: 'rotate',\n  waterMark: 'waterMark',\n  filter: 'filter',\n  primaryColor: 'primaryColor'\n};\nvar WATER_MARK_TYPE = exports.WATER_MARK_TYPE = {\n  image: 'image',\n  text: 'text'\n};\nvar FILTER_TYPE = exports.FILTER_TYPE = {\n  vintage: 'vintage',\n  blackWhite: 'blackWhite',\n  relief: 'relief',\n  blur: 'blur'\n};\nvar OUTPUT_TYPE = exports.OUTPUT_TYPE = {\n  blob: 'blob',\n  dataUrl: 'dataUrl'\n};\nvar MODE = Object.values(MODE_TYPE);\nvar WATER_MARK = Object.values(WATER_MARK_TYPE);\nvar FILTER = Object.values(FILTER_TYPE);\nvar OUTPUT = Object.values(OUTPUT_TYPE);\nvar mainPrefix = 'react-image-process';\n\nvar ReactImageProcess = function (_PureComponent) {\n  _inherits(ReactImageProcess, _PureComponent);\n\n  function ReactImageProcess(props) {\n    var _this2 = this;\n\n    _classCallCheck(this, ReactImageProcess);\n\n    var _this = _possibleConstructorReturn(this, (ReactImageProcess.__proto__ || Object.getPrototypeOf(ReactImageProcess)).call(this, props));\n\n    _this.base64Handler = function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator2.default.mark(function _callee(cover, params) {\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.photoMagician.toBase64Url(_extends({\n                  cover: cover\n                }, params));\n\n              case 2:\n                return _context.abrupt('return', _context.sent);\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this2);\n      }));\n\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.clipHandler = function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator2.default.mark(function _callee2(cover, params) {\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this.photoMagician.clipImage(_extends({\n                  cover: cover\n                }, params));\n\n              case 2:\n                return _context2.abrupt('return', _context2.sent);\n\n              case 3:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this2);\n      }));\n\n      return function (_x3, _x4) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.compressHandler = function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator2.default.mark(function _callee3(cover, params) {\n        return _regenerator2.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _this.photoMagician.compressImage(_extends({\n                  cover: cover\n                }, params));\n\n              case 2:\n                return _context3.abrupt('return', _context3.sent);\n\n              case 3:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this2);\n      }));\n\n      return function (_x5, _x6) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.rotateHandler = function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator2.default.mark(function _callee4(cover, params) {\n        return _regenerator2.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _this.photoMagician.rotateImage(_extends({\n                  cover: cover\n                }, params));\n\n              case 2:\n                return _context4.abrupt('return', _context4.sent);\n\n              case 3:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, _this2);\n      }));\n\n      return function (_x7, _x8) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    _this.filterHandler = function () {\n      var _ref6 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator2.default.mark(function _callee5(cover, _ref5) {\n        var filterType = _ref5.filterType,\n            params = _objectWithoutProperties(_ref5, ['filterType']);\n\n        return _regenerator2.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return _this.photoMagician.addImageFilter(_extends({\n                  cover: cover\n                }, params, {\n                  mode: filterType\n                }));\n\n              case 2:\n                return _context5.abrupt('return', _context5.sent);\n\n              case 3:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, _this2);\n      }));\n\n      return function (_x9, _x10) {\n        return _ref6.apply(this, arguments);\n      };\n    }();\n\n    _this.waterMarkHandler = function () {\n      var _ref8 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator2.default.mark(function _callee6(cover, _ref7) {\n        var waterMarkType = _ref7.waterMarkType,\n            params = _objectWithoutProperties(_ref7, ['waterMarkType']);\n\n        return _regenerator2.default.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return _this.photoMagician.addWaterMark(_extends({\n                  cover: cover\n                }, params, {\n                  mode: waterMarkType\n                }));\n\n              case 2:\n                return _context6.abrupt('return', _context6.sent);\n\n              case 3:\n              case 'end':\n                return _context6.stop();\n            }\n          }\n        }, _callee6, _this2);\n      }));\n\n      return function (_x11, _x12) {\n        return _ref8.apply(this, arguments);\n      };\n    }();\n\n    _this.primaryColorHandler = function () {\n      var _ref9 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator2.default.mark(function _callee7(cover) {\n        return _regenerator2.default.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return _this.photoMagician.getPrimaryColor({\n                  cover: cover\n                });\n\n              case 2:\n                return _context7.abrupt('return', _context7.sent);\n\n              case 3:\n              case 'end':\n                return _context7.stop();\n            }\n          }\n        }, _callee7, _this2);\n      }));\n\n      return function (_x13) {\n        return _ref9.apply(this, arguments);\n      };\n    }();\n\n    _this.baseHandler = function () {\n      var _ref10 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator2.default.mark(function _callee8(mode, options) {\n        var onComplete, children, params, images, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _loop, _iterator, _step, _ret;\n\n        return _regenerator2.default.wrap(function _callee8$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.prev = 0;\n                onComplete = _this.props.onComplete;\n                children = options.children, params = _objectWithoutProperties(options, ['children']);\n                images = Array.isArray(children) ? [].concat(_toConsumableArray(options.children)) : [options.children];\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context9.prev = 7;\n                _loop =\n                /*#__PURE__*/\n                _regenerator2.default.mark(function _loop() {\n                  var _step$value, i, src, data;\n\n                  return _regenerator2.default.wrap(function _loop$(_context8) {\n                    while (1) {\n                      switch (_context8.prev = _context8.next) {\n                        case 0:\n                          _step$value = _slicedToArray(_step.value, 2), i = _step$value[0], src = _step$value[1].props.src;\n\n                          if (src) {\n                            _context8.next = 3;\n                            break;\n                          }\n\n                          return _context8.abrupt('return', 'continue');\n\n                        case 3:\n                          _context8.next = 5;\n                          return _this[mode + 'Handler'](src, params);\n\n                        case 5:\n                          data = _context8.sent;\n\n                          if (!(mode !== MODE_TYPE['primaryColor'])) {\n                            _context8.next = 11;\n                            break;\n                          }\n\n                          if (!(params.outputType === OUTPUT_TYPE.dataUrl)) {\n                            _context8.next = 9;\n                            break;\n                          }\n\n                          return _context8.abrupt('return', {\n                            v: _this.currentImgNodes[i].src = data\n                          });\n\n                        case 9:\n                          _this.currentImgNodes[i].src = URL.createObjectURL(data);\n\n                          _this.currentImgNodes[i].onload = function () {\n                            URL.revokeObjectURL(data);\n                          };\n\n                        case 11:\n                          if (onComplete && onComplete instanceof Function) {\n                            onComplete(data);\n                          }\n\n                        case 12:\n                        case 'end':\n                          return _context8.stop();\n                      }\n                    }\n                  }, _loop, _this2);\n                });\n                _iterator = images.entries()[Symbol.iterator]();\n\n              case 10:\n                if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n                  _context9.next = 22;\n                  break;\n                }\n\n                return _context9.delegateYield(_loop(), 't0', 12);\n\n              case 12:\n                _ret = _context9.t0;\n                _context9.t1 = _ret;\n                _context9.next = _context9.t1 === 'continue' ? 16 : 17;\n                break;\n\n              case 16:\n                return _context9.abrupt('continue', 19);\n\n              case 17:\n                if (!((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\")) {\n                  _context9.next = 19;\n                  break;\n                }\n\n                return _context9.abrupt('return', _ret.v);\n\n              case 19:\n                _iteratorNormalCompletion = true;\n                _context9.next = 10;\n                break;\n\n              case 22:\n                _context9.next = 28;\n                break;\n\n              case 24:\n                _context9.prev = 24;\n                _context9.t2 = _context9['catch'](7);\n                _didIteratorError = true;\n                _iteratorError = _context9.t2;\n\n              case 28:\n                _context9.prev = 28;\n                _context9.prev = 29;\n\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                  _iterator.return();\n                }\n\n              case 31:\n                _context9.prev = 31;\n\n                if (!_didIteratorError) {\n                  _context9.next = 34;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 34:\n                return _context9.finish(31);\n\n              case 35:\n                return _context9.finish(28);\n\n              case 36:\n                _context9.next = 41;\n                break;\n\n              case 38:\n                _context9.prev = 38;\n                _context9.t3 = _context9['catch'](0);\n                /*eslint-disable no-console */\n\n                console.error('[' + mode + 'Handler-error]:', _context9.t3);\n\n              case 41:\n              case 'end':\n                return _context9.stop();\n            }\n          }\n        }, _callee8, _this2, [[0, 38], [7, 24, 28, 36], [29,, 31, 35]]);\n      }));\n\n      return function (_x14, _x15) {\n        return _ref10.apply(this, arguments);\n      };\n    }();\n\n    _this.imageHandle = function () {\n      var _ref12 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator2.default.mark(function _callee9(_ref11) {\n        var mode = _ref11.mode,\n            options = _objectWithoutProperties(_ref11, ['mode']);\n\n        return _regenerator2.default.wrap(function _callee9$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.next = 2;\n                return _this.baseHandler(MODE_TYPE[mode], options);\n\n              case 2:\n              case 'end':\n                return _context10.stop();\n            }\n          }\n        }, _callee9, _this2);\n      }));\n\n      return function (_x16) {\n        return _ref12.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(ReactImageProcess, [{\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props = this.props,\n          mode = _props.mode,\n          children = _props.children,\n          style = _props.style,\n          className = _props.className;\n\n      var _className = mainPrefix + '-' + mode;\n\n      return _react2.default.createElement('span', _extends({\n        className: (0, _classnames2.default)(className, _className),\n        ref: function ref(node) {\n          return _this3.node = node;\n        }\n      }, style), children);\n    }\n    /**\n     * @description get base64 data of the image\n     * @param {Object} options\n     * @param {String | Object} options.cover cover url | image element node   The next cover parameter is the same as this.\n     * @return base64 data\n     */\n\n    /**\n     * @description cut clip of the image\n     * @param {object} Options\n     * @param {String | Object} options.cover\n     * @param {Number} options.scale Image zooming   default '1.0'\n     * @param {Array} options.coordinate [[x1,y1],[x2,y2]]\n     * @return image node\n     */\n\n    /**\n     * @description compress of the image\n     * @param {Object} options\n     * @param {String | Object} options.cover\n     * @param {Number}  options.quality range(0-1) default '0.92'\n     * @return base64 data\n     */\n\n    /**\n     * @description Rotate the image\n     * @param {String | Object} cover 图片地址或节点\n     * @param {Number} rotate 旋转比例 (0 -360 ) °\n     */\n\n    /**\n     * @param {Object} options\n     * @param {String | Object} options.cover\n     * @param {String} options.mode  filter name  \"vintage\" | \"blackWhite\" | \"relief\" | \"blur\"\n     */\n\n    /**\n     * @description get primary color of the image\n     * @param {Object} options\n     * @param {String | Object} options.cover\n     * @return primaryColor\n     */\n    //图片处理\n\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.photoMagician = undefined;\n      this.currentImgNodes = undefined;\n      this.node = undefined;\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.currentImgNodes = this.node.querySelectorAll('img');\n      this.photoMagician = new _photoMagician2.default();\n      this.imageHandle(this.props);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this4 = this;\n\n      if (Object.keys(nextProps).some(function (key) {\n        return !Object.is(nextProps[key], _this4.props[key]);\n      })) {\n        this.imageHandle(nextProps);\n      }\n    }\n  }]);\n\n  return ReactImageProcess;\n}(_react.PureComponent);\n\nReactImageProcess.defaultProps = {\n  mode: MODE_TYPE['base64'],\n  waterMarkType: WATER_MARK_TYPE['text'],\n  filterType: FILTER_TYPE['vintage'],\n  outputType: OUTPUT_TYPE['dataUrl'],\n  waterMark: mainPrefix,\n  rotate: 0,\n  quality: 1.0,\n  coordinate: [0, 0],\n  width: 50,\n  height: 50,\n  opacity: 0.5,\n  fontColor: 'rgba(255,255,255,.5)',\n  fontSize: 20,\n  fontBold: true,\n  onComplete: function onComplete() {}\n};\nReactImageProcess.propTypes = {\n  mode: _propTypes2.default.oneOf(MODE),\n  waterMarkType: _propTypes2.default.oneOf(WATER_MARK),\n  filterType: _propTypes2.default.oneOf(FILTER),\n  outputType: _propTypes2.default.oneOf(OUTPUT),\n  waterMark: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.element, _propTypes2.default.node]),\n  scale: _propTypes2.default.number,\n  rotate: _propTypes2.default.number,\n  quality: _propTypes2.default.number,\n  width: _propTypes2.default.number,\n  height: _propTypes2.default.number,\n  fontColor: _propTypes2.default.string,\n  fontSize: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  fontBold: _propTypes2.default.bool,\n  coordinate: _propTypes2.default.array,\n  onComplete: _propTypes2.default.func\n};\nexports.default = ReactImageProcess;","map":{"version":3,"sources":["C:/audi_/ESPL_projects/facebook/node_modules/react-image-process/lib/index.js"],"names":["Object","defineProperty","exports","value","OUTPUT_TYPE","FILTER_TYPE","WATER_MARK_TYPE","MODE_TYPE","undefined","_regenerator","require","_regenerator2","_interopRequireDefault","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","_i","Symbol","iterator","_s","next","done","push","length","err","Array","isArray","TypeError","_typeof","obj","constructor","prototype","_extends","assign","target","arguments","source","key","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","_react2","_photoMagician","_photoMagician2","_propTypes","_propTypes2","_classnames","_classnames2","__esModule","default","_toConsumableArray","arr2","from","_objectWithoutProperties","keys","indexOf","_asyncToGenerator","fn","gen","apply","Promise","resolve","reject","step","arg","info","error","then","_classCallCheck","instance","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","base64","clip","compress","rotate","waterMark","filter","primaryColor","image","text","vintage","blackWhite","relief","blur","blob","dataUrl","MODE","values","WATER_MARK","FILTER","OUTPUT","mainPrefix","ReactImageProcess","_PureComponent","_this2","_this","getPrototypeOf","base64Handler","_ref","mark","_callee","cover","params","wrap","_callee$","_context","prev","photoMagician","toBase64Url","abrupt","sent","stop","_x","_x2","clipHandler","_ref2","_callee2","_callee2$","_context2","clipImage","_x3","_x4","compressHandler","_ref3","_callee3","_callee3$","_context3","compressImage","_x5","_x6","rotateHandler","_ref4","_callee4","_callee4$","_context4","rotateImage","_x7","_x8","filterHandler","_ref6","_callee5","_ref5","filterType","_callee5$","_context5","addImageFilter","mode","_x9","_x10","waterMarkHandler","_ref8","_callee6","_ref7","waterMarkType","_callee6$","_context6","addWaterMark","_x11","_x12","primaryColorHandler","_ref9","_callee7","_callee7$","_context7","getPrimaryColor","_x13","baseHandler","_ref10","_callee8","options","onComplete","children","images","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_loop","_iterator","_step","_ret","_callee8$","_context9","concat","_step$value","src","data","_loop$","_context8","outputType","v","currentImgNodes","URL","createObjectURL","onload","revokeObjectURL","Function","entries","delegateYield","t0","t1","t2","return","finish","t3","console","_x14","_x15","imageHandle","_ref12","_callee9","_ref11","_callee9$","_context10","_x16","render","_this3","_props","style","className","_className","createElement","ref","node","componentWillUnmount","componentDidMount","querySelectorAll","componentWillReceiveProps","nextProps","_this4","some","is","PureComponent","defaultProps","quality","coordinate","width","height","opacity","fontColor","fontSize","fontBold","propTypes","oneOf","oneOfType","string","element","scale","number","bool","array","func"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OUTPUT_TYPE = exports.FILTER_TYPE = exports.WATER_MARK_TYPE = exports.MODE_TYPE = undefined;\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _photoMagician = require('photo-magician');\n\nvar _photoMagician2 = _interopRequireDefault(_photoMagician);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @name react-image-process\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version 0.2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar MODE_TYPE = exports.MODE_TYPE = {\n  base64: 'base64',\n  clip: 'clip',\n  compress: 'compress',\n  rotate: 'rotate',\n  waterMark: 'waterMark',\n  filter: 'filter',\n  primaryColor: 'primaryColor'\n};\n\nvar WATER_MARK_TYPE = exports.WATER_MARK_TYPE = {\n  image: 'image',\n  text: 'text'\n};\n\nvar FILTER_TYPE = exports.FILTER_TYPE = {\n  vintage: 'vintage',\n  blackWhite: 'blackWhite',\n  relief: 'relief',\n  blur: 'blur'\n};\n\nvar OUTPUT_TYPE = exports.OUTPUT_TYPE = {\n  blob: 'blob',\n  dataUrl: 'dataUrl'\n};\n\nvar MODE = Object.values(MODE_TYPE);\nvar WATER_MARK = Object.values(WATER_MARK_TYPE);\nvar FILTER = Object.values(FILTER_TYPE);\nvar OUTPUT = Object.values(OUTPUT_TYPE);\n\nvar mainPrefix = 'react-image-process';\n\nvar ReactImageProcess = function (_PureComponent) {\n  _inherits(ReactImageProcess, _PureComponent);\n\n  function ReactImageProcess(props) {\n    var _this2 = this;\n\n    _classCallCheck(this, ReactImageProcess);\n\n    var _this = _possibleConstructorReturn(this, (ReactImageProcess.__proto__ || Object.getPrototypeOf(ReactImageProcess)).call(this, props));\n\n    _this.base64Handler = function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee(cover, params) {\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.photoMagician.toBase64Url(_extends({ cover: cover }, params));\n\n              case 2:\n                return _context.abrupt('return', _context.sent);\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this2);\n      }));\n\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.clipHandler = function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee2(cover, params) {\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this.photoMagician.clipImage(_extends({ cover: cover }, params));\n\n              case 2:\n                return _context2.abrupt('return', _context2.sent);\n\n              case 3:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this2);\n      }));\n\n      return function (_x3, _x4) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.compressHandler = function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee3(cover, params) {\n        return _regenerator2.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _this.photoMagician.compressImage(_extends({ cover: cover }, params));\n\n              case 2:\n                return _context3.abrupt('return', _context3.sent);\n\n              case 3:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this2);\n      }));\n\n      return function (_x5, _x6) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.rotateHandler = function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee4(cover, params) {\n        return _regenerator2.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _this.photoMagician.rotateImage(_extends({ cover: cover }, params));\n\n              case 2:\n                return _context4.abrupt('return', _context4.sent);\n\n              case 3:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, _this2);\n      }));\n\n      return function (_x7, _x8) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    _this.filterHandler = function () {\n      var _ref6 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee5(cover, _ref5) {\n        var filterType = _ref5.filterType,\n            params = _objectWithoutProperties(_ref5, ['filterType']);\n\n        return _regenerator2.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return _this.photoMagician.addImageFilter(_extends({\n                  cover: cover\n                }, params, {\n                  mode: filterType\n                }));\n\n              case 2:\n                return _context5.abrupt('return', _context5.sent);\n\n              case 3:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, _this2);\n      }));\n\n      return function (_x9, _x10) {\n        return _ref6.apply(this, arguments);\n      };\n    }();\n\n    _this.waterMarkHandler = function () {\n      var _ref8 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee6(cover, _ref7) {\n        var waterMarkType = _ref7.waterMarkType,\n            params = _objectWithoutProperties(_ref7, ['waterMarkType']);\n\n        return _regenerator2.default.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return _this.photoMagician.addWaterMark(_extends({\n                  cover: cover\n                }, params, {\n                  mode: waterMarkType\n                }));\n\n              case 2:\n                return _context6.abrupt('return', _context6.sent);\n\n              case 3:\n              case 'end':\n                return _context6.stop();\n            }\n          }\n        }, _callee6, _this2);\n      }));\n\n      return function (_x11, _x12) {\n        return _ref8.apply(this, arguments);\n      };\n    }();\n\n    _this.primaryColorHandler = function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee7(cover) {\n        return _regenerator2.default.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return _this.photoMagician.getPrimaryColor({ cover: cover });\n\n              case 2:\n                return _context7.abrupt('return', _context7.sent);\n\n              case 3:\n              case 'end':\n                return _context7.stop();\n            }\n          }\n        }, _callee7, _this2);\n      }));\n\n      return function (_x13) {\n        return _ref9.apply(this, arguments);\n      };\n    }();\n\n    _this.baseHandler = function () {\n      var _ref10 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee8(mode, options) {\n        var onComplete, children, params, images, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _loop, _iterator, _step, _ret;\n\n        return _regenerator2.default.wrap(function _callee8$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.prev = 0;\n                onComplete = _this.props.onComplete;\n                children = options.children, params = _objectWithoutProperties(options, ['children']);\n                images = Array.isArray(children) ? [].concat(_toConsumableArray(options.children)) : [options.children];\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context9.prev = 7;\n                _loop = /*#__PURE__*/_regenerator2.default.mark(function _loop() {\n                  var _step$value, i, src, data;\n\n                  return _regenerator2.default.wrap(function _loop$(_context8) {\n                    while (1) {\n                      switch (_context8.prev = _context8.next) {\n                        case 0:\n                          _step$value = _slicedToArray(_step.value, 2), i = _step$value[0], src = _step$value[1].props.src;\n\n                          if (src) {\n                            _context8.next = 3;\n                            break;\n                          }\n\n                          return _context8.abrupt('return', 'continue');\n\n                        case 3:\n                          _context8.next = 5;\n                          return _this[mode + 'Handler'](src, params);\n\n                        case 5:\n                          data = _context8.sent;\n\n                          if (!(mode !== MODE_TYPE['primaryColor'])) {\n                            _context8.next = 11;\n                            break;\n                          }\n\n                          if (!(params.outputType === OUTPUT_TYPE.dataUrl)) {\n                            _context8.next = 9;\n                            break;\n                          }\n\n                          return _context8.abrupt('return', {\n                            v: _this.currentImgNodes[i].src = data\n                          });\n\n                        case 9:\n                          _this.currentImgNodes[i].src = URL.createObjectURL(data);\n                          _this.currentImgNodes[i].onload = function () {\n                            URL.revokeObjectURL(data);\n                          };\n\n                        case 11:\n                          if (onComplete && onComplete instanceof Function) {\n                            onComplete(data);\n                          }\n\n                        case 12:\n                        case 'end':\n                          return _context8.stop();\n                      }\n                    }\n                  }, _loop, _this2);\n                });\n                _iterator = images.entries()[Symbol.iterator]();\n\n              case 10:\n                if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n                  _context9.next = 22;\n                  break;\n                }\n\n                return _context9.delegateYield(_loop(), 't0', 12);\n\n              case 12:\n                _ret = _context9.t0;\n                _context9.t1 = _ret;\n                _context9.next = _context9.t1 === 'continue' ? 16 : 17;\n                break;\n\n              case 16:\n                return _context9.abrupt('continue', 19);\n\n              case 17:\n                if (!((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\")) {\n                  _context9.next = 19;\n                  break;\n                }\n\n                return _context9.abrupt('return', _ret.v);\n\n              case 19:\n                _iteratorNormalCompletion = true;\n                _context9.next = 10;\n                break;\n\n              case 22:\n                _context9.next = 28;\n                break;\n\n              case 24:\n                _context9.prev = 24;\n                _context9.t2 = _context9['catch'](7);\n                _didIteratorError = true;\n                _iteratorError = _context9.t2;\n\n              case 28:\n                _context9.prev = 28;\n                _context9.prev = 29;\n\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                  _iterator.return();\n                }\n\n              case 31:\n                _context9.prev = 31;\n\n                if (!_didIteratorError) {\n                  _context9.next = 34;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 34:\n                return _context9.finish(31);\n\n              case 35:\n                return _context9.finish(28);\n\n              case 36:\n                _context9.next = 41;\n                break;\n\n              case 38:\n                _context9.prev = 38;\n                _context9.t3 = _context9['catch'](0);\n\n                /*eslint-disable no-console */\n                console.error('[' + mode + 'Handler-error]:', _context9.t3);\n\n              case 41:\n              case 'end':\n                return _context9.stop();\n            }\n          }\n        }, _callee8, _this2, [[0, 38], [7, 24, 28, 36], [29,, 31, 35]]);\n      }));\n\n      return function (_x14, _x15) {\n        return _ref10.apply(this, arguments);\n      };\n    }();\n\n    _this.imageHandle = function () {\n      var _ref12 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee9(_ref11) {\n        var mode = _ref11.mode,\n            options = _objectWithoutProperties(_ref11, ['mode']);\n\n        return _regenerator2.default.wrap(function _callee9$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.next = 2;\n                return _this.baseHandler(MODE_TYPE[mode], options);\n\n              case 2:\n              case 'end':\n                return _context10.stop();\n            }\n          }\n        }, _callee9, _this2);\n      }));\n\n      return function (_x16) {\n        return _ref12.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(ReactImageProcess, [{\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props = this.props,\n          mode = _props.mode,\n          children = _props.children,\n          style = _props.style,\n          className = _props.className;\n\n\n      var _className = mainPrefix + '-' + mode;\n\n      return _react2.default.createElement(\n        'span',\n        _extends({\n          className: (0, _classnames2.default)(className, _className),\n          ref: function ref(node) {\n            return _this3.node = node;\n          }\n        }, style),\n        children\n      );\n    }\n    /**\n     * @description get base64 data of the image\n     * @param {Object} options\n     * @param {String | Object} options.cover cover url | image element node   The next cover parameter is the same as this.\n     * @return base64 data\n     */\n\n\n    /**\n     * @description cut clip of the image\n     * @param {object} Options\n     * @param {String | Object} options.cover\n     * @param {Number} options.scale Image zooming   default '1.0'\n     * @param {Array} options.coordinate [[x1,y1],[x2,y2]]\n     * @return image node\n     */\n\n    /**\n     * @description compress of the image\n     * @param {Object} options\n     * @param {String | Object} options.cover\n     * @param {Number}  options.quality range(0-1) default '0.92'\n     * @return base64 data\n     */\n\n    /**\n     * @description Rotate the image\n     * @param {String | Object} cover 图片地址或节点\n     * @param {Number} rotate 旋转比例 (0 -360 ) °\n     */\n\n    /**\n     * @param {Object} options\n     * @param {String | Object} options.cover\n     * @param {String} options.mode  filter name  \"vintage\" | \"blackWhite\" | \"relief\" | \"blur\"\n     */\n\n    /**\n     * @description get primary color of the image\n     * @param {Object} options\n     * @param {String | Object} options.cover\n     * @return primaryColor\n     */\n\n    //图片处理\n\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.photoMagician = undefined;\n      this.currentImgNodes = undefined;\n      this.node = undefined;\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.currentImgNodes = this.node.querySelectorAll('img');\n      this.photoMagician = new _photoMagician2.default();\n      this.imageHandle(this.props);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this4 = this;\n\n      if (Object.keys(nextProps).some(function (key) {\n        return !Object.is(nextProps[key], _this4.props[key]);\n      })) {\n        this.imageHandle(nextProps);\n      }\n    }\n  }]);\n\n  return ReactImageProcess;\n}(_react.PureComponent);\n\nReactImageProcess.defaultProps = {\n  mode: MODE_TYPE['base64'],\n  waterMarkType: WATER_MARK_TYPE['text'],\n  filterType: FILTER_TYPE['vintage'],\n  outputType: OUTPUT_TYPE['dataUrl'],\n  waterMark: mainPrefix,\n  rotate: 0,\n  quality: 1.0,\n  coordinate: [0, 0],\n  width: 50,\n  height: 50,\n  opacity: 0.5,\n  fontColor: 'rgba(255,255,255,.5)',\n  fontSize: 20,\n  fontBold: true,\n  onComplete: function onComplete() {}\n};\nReactImageProcess.propTypes = {\n  mode: _propTypes2.default.oneOf(MODE),\n  waterMarkType: _propTypes2.default.oneOf(WATER_MARK),\n  filterType: _propTypes2.default.oneOf(FILTER),\n  outputType: _propTypes2.default.oneOf(OUTPUT),\n  waterMark: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.element, _propTypes2.default.node]),\n  scale: _propTypes2.default.number,\n  rotate: _propTypes2.default.number,\n  quality: _propTypes2.default.number,\n  width: _propTypes2.default.number,\n  height: _propTypes2.default.number,\n  fontColor: _propTypes2.default.string,\n  fontSize: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  fontBold: _propTypes2.default.bool,\n  coordinate: _propTypes2.default.array,\n  onComplete: _propTypes2.default.func\n};\nexports.default = ReactImageProcess;"]},"metadata":{},"sourceType":"script"}